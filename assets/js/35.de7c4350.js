(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{445:function(s,t,a){"use strict";a.r(t);var n=a(47),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"三、mongodb-crud"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、mongodb-crud"}},[s._v("#")]),s._v(" 三、MongoDB CRUD")]),s._v(" "),a("blockquote",[a("p",[s._v("参考：https://docs.mongoing.com/mongodb-crud-operations")])]),s._v(" "),a("h2",{attrs:{id:"_1-数据库-database"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据库-database"}},[s._v("#")]),s._v(" 1. 数据库 database")]),s._v(" "),a("h3",{attrs:{id:"_1-1-创建数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-创建数据库"}},[s._v("#")]),s._v(" 1.1 创建数据库")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("use dbname")])])]),s._v(" "),a("p",[s._v("数据库不在则会自动创建。")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("数据库命名规则")]),s._v(" "),a("p",[s._v("数据库名可以是满足以下条件的任意 UTF-8 字符串：")]),s._v(" "),a("ul",[a("li",[s._v("不能是空字符串")]),s._v(" "),a("li",[s._v("不得含有 "),a("code",[s._v("''")]),s._v("（空格）、"),a("code",[s._v(".")]),s._v("、"),a("code",[s._v("$")]),s._v("、"),a("code",[s._v("/")]),s._v("、"),a("code",[s._v("\\")]),s._v(" 和 "),a("code",[s._v("\\0")]),s._v("（空字符）")]),s._v(" "),a("li",[s._v("应全部小写")]),s._v(" "),a("li",[s._v("最多 64 字节")])]),s._v(" "),a("p",[s._v("有一些数据库名是保留的，可以直接访问这些有特殊作用的数据库：")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("admin")]),s._v("：从权限的角度看，这是个 “root” 数据库。要是一个用户添加到这个数据库，这个用户自动继承所有数据库的权限。一些特定的服务器端命令也只能从这个数据库运行，比如列出所有的数据库或者关闭服务器。")]),s._v(" "),a("li",[a("strong",[s._v("local")]),s._v("：这个数据库永远不会被复制，可以用来存储限于本地单台服务器的任意集合。")]),s._v(" "),a("li",[a("strong",[s._v("config")]),s._v("：当 mongo 用于分片配置时，config 数据库在内部使用，用于保存分片的相关信息。")])])]),s._v(" "),a("h3",{attrs:{id:"_1-2-删除数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-删除数据库"}},[s._v("#")]),s._v(" 1.2 删除数据库")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("db.dropDatabase()")])])]),s._v(" "),a("p",[s._v("主要用来删除提交持久化的数据库。")]),s._v(" "),a("h3",{attrs:{id:"_1-3-查看数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-查看数据库"}},[s._v("#")]),s._v(" 1.3 查看数据库")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("show dbs")]),s._v("：查看所有数据库，只有当 db 里面有数据了，才会被持久化到磁盘当中，否则只在内存里面的话，用 show dbs 是查不到的。")]),s._v(" "),a("li",[a("code",[s._v("db")]),s._v("：查看当前使用的数据库。")])]),s._v(" "),a("p",[s._v("MongoDB 默认的数据库为 test，如果你没有选择数据库，集合将存放在 test 数据库中。")]),s._v(" "),a("h2",{attrs:{id:"_2-集合-collection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-集合-collection"}},[s._v("#")]),s._v(" 2. 集合 collection")]),s._v(" "),a("h3",{attrs:{id:"_2-1-创建集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-创建集合"}},[s._v("#")]),s._v(" 2.1 创建集合")]),s._v(" "),a("h4",{attrs:{id:"_2-1-1-显式创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-显式创建"}},[s._v("#")]),s._v(" 2.1.1 显式创建")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("db.createCollection(name)")])])]),s._v(" "),a("h4",{attrs:{id:"_2-1-2-隐式创建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-隐式创建"}},[s._v("#")]),s._v(" 2.1.2 隐式创建")]),s._v(" "),a("ul",[a("li",[s._v("当向一个集合中插入一个文档的时候，如果集合不存在，则会自动创建集合。")])]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("集合命名规范")]),s._v(" "),a("ul",[a("li",[s._v('集合名不能是空字符串""。')]),s._v(" "),a("li",[s._v("集合名不能含有 \\0 字符（空字符），这个字符表示集合名的结尾。")]),s._v(" "),a("li",[s._v('集合名不能以 "system."开头，这是为系统集合保留的前缀。')]),s._v(" "),a("li",[s._v("用户创建的集合名字不能含有保留字符。有些驱动程序的确支持在集名里面包含，这是因为某些系统生成的集合中包含该字符。除非你要访问这种系统创建的集合，否则千万不要在名字里出现 $。")])])]),s._v(" "),a("h3",{attrs:{id:"_2-2-删除集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-删除集合"}},[s._v("#")]),s._v(" 2.2 删除集合")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("db.collectionName.drop()")])])]),s._v(" "),a("p",[s._v("如果成功删除选定集合，则 drop() 方法返回 true，否则返回 false。")]),s._v(" "),a("h3",{attrs:{id:"_2-2-查看集合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-查看集合"}},[s._v("#")]),s._v(" 2.2 查看集合")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("show collections")])]),s._v(" "),a("li",[a("code",[s._v("show tables")])])]),s._v(" "),a("h2",{attrs:{id:"_3-文档-document"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-文档-document"}},[s._v("#")]),s._v(" 3. 文档 document")]),s._v(" "),a("h3",{attrs:{id:"_3-1-插入文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-插入文档"}},[s._v("#")]),s._v(" 3.1 插入文档")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("db.collection.insertOne()")]),s._v("：插入单个")]),s._v(" "),a("li",[a("code",[s._v("db.collection.insertMany()")]),s._v("：插入多个")]),s._v(" "),a("li",[a("code",[s._v("db.collection.insert()")]),s._v("：插入单个或多个")])]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("db.collection.insert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("document or array of document"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t\twriteConcern: "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("document"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(",  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 写关注，可选")]),s._v("\n\t\tordered: "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("boolean"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("         "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 是否按顺序插入，默认为 true")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# true：有一个文档出现错误，则停止插入，返回还没处理的剩余的文档")]),s._v("\n                                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# false：如果出错，则继续处理后面的文档")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("补充")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("创建或插入操作会将新文档添加到集合中。 如果该集合当前不存在，则插入操作将创建该集合。")])]),s._v(" "),a("li",[a("p",[s._v("在MongoDB中，插入操作针对单个集合。 MongoDB中的所有写操作都是单个文档级别的"),a("a",{attrs:{href:"https://docs.mongodb.com/master/core/write-operations-atomicity/",target:"_blank",rel:"noopener noreferrer"}},[s._v("原子"),a("OutboundLink")],1),s._v("操作。")]),s._v(" "),a("p",[s._v("In MongoDB, a write operation is "),a("a",{attrs:{href:"https://docs.mongodb.com/v5.0/reference/glossary/#std-term-atomic-operation",target:"_blank",rel:"noopener noreferrer"}},[s._v("atomic"),a("OutboundLink")],1),s._v(" on the level of a single document, even if the operation modifies multiple embedded documents "),a("em",[s._v("within")]),s._v(" a single document.")])]),s._v(" "),a("li",[a("p",[s._v("在 MongoDB 中，存储在集合中的每个文档都需要一个唯一的 "),a("code",[s._v("_id")]),s._v(" 字段作为主键。 如果插入的文档省略 "),a("code",[s._v("_id")]),s._v(" 字段，则 MongoDB 驱动程序会自动为 "),a("code",[s._v("_id")]),s._v(" 字段生成 "),a("code",[s._v("ObjectId")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("插入当前日期，用 "),a("code",[s._v("new Date()")]),s._v("。")])]),s._v(" "),a("li",[a("p",[s._v("MongoDB 中的数字，默认情况下是 "),a("code",[s._v("double")]),s._v(" 类型，如果要存整型，必须使用函数 "),a("code",[s._v("NumberInt(整型数字)")]),s._v("，否则取出来就有问题了。")])]),s._v(" "),a("li",[a("p",[s._v("如果某字段没值，可以赋值为 null，或不写该字段。")])])])]),s._v(" "),a("h4",{attrs:{id:"_3-1-1-插入一个文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-插入一个文档"}},[s._v("#")]),s._v(" 3.1.1 插入一个文档")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.hedon.insertOne"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hedon"')]),s._v(", age: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(", address: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"beijing"')]),s._v(", tags: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"student"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"software developer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", body: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("weight: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v(", height: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("199")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"acknowledged"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"insertedId"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115e5c33e8322a9d326c23f"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("p",[a("code",[s._v("insertOne")]),s._v(" 返回一个文档，其中包含新插入的文档的 "),a("code",[s._v("_id")]),s._v(" 字段值。")]),s._v(" "),a("p",[s._v("查看刚刚插入的文档：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.hedon.find"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("name: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hedon"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_id"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115e5c33e8322a9d326c23f"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hedon"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"age"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"address"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"beijing"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"tags"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"student"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"software developer"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"body"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"weight"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("70")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"height"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("199")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("ol",[a("li",[s._v("文档中的键值对是有序的。")]),s._v(" "),a("li",[s._v("文档中的值不仅可以是在双引号里面的字符串，还可以是其他几种数据类型（甚至可以是整个嵌入的文档）。")]),s._v(" "),a("li",[s._v("MongoDB 区分类型和大小写。")]),s._v(" "),a("li",[s._v("MongoDB 的文档不能有重复的键。")]),s._v(" "),a("li",[s._v("文档的键是字符串。除了少数例外情况，键可以使用任意 UTF-8 字符。")])]),s._v(" "),a("p",[s._v("文档键命名规范:")]),s._v(" "),a("ol",[a("li",[s._v("键不能含有 "),a("code",[s._v("\\0")]),s._v("（空字符），这个字符用来表示键的结尾；")]),s._v(" "),a("li",[a("code",[s._v(".")]),s._v(" 和 "),a("code",[s._v("$")]),s._v(" 有特别的意义，只有在特定环境下才能使用；")]),s._v(" "),a("li",[s._v("以下划线 "),a("code",[s._v('"_"')]),s._v(" 开头的键是保留的（不是严格要求的）。")])])]),s._v(" "),a("h4",{attrs:{id:"_3-1-2-插入多个文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-插入多个文档"}},[s._v("#")]),s._v(" 3.1.2 插入多个文档")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.hedon.insertMany"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"jack"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"windy"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" name: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"wuyifan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"acknowledged"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n\t"),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"insertedIds"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n\t\tObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115e6633e8322a9d326c240"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n\t\tObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115e6633e8322a9d326c241"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(",\n\t\tObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115e6633e8322a9d326c242"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"_3-2-查询文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-查询文档"}},[s._v("#")]),s._v(" 3.2 查询文档")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("db.collection.find(<query>, [projection])")])])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("Parameter")]),s._v(" "),a("th",[s._v("Type")]),s._v(" "),a("th",[s._v("Description")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("query")]),s._v(" "),a("td",[s._v("document")]),s._v(" "),a("td",[s._v("可选。使用查询运算符指定选择筛选器。若要返回集合中的所有文档，请省略此参数或传递空文档 ( {} )。")])]),s._v(" "),a("tr",[a("td",[s._v("projection")]),s._v(" "),a("td",[s._v("document")]),s._v(" "),a("td",[s._v("可选。指定要在与查询筛选器匹配的文档中返回的字段（投影）。若要返回匹配文档中的所有字段， 请省略此参数。")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("方便下面案例，请先插入数据：")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("db.inventory.insertMany"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" item: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"journal"')]),s._v(", qty: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(", size: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" h: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(", w: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(", uom: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cm"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", status: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"A"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" item: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"notebook"')]),s._v(", qty: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(", size: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" h: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.5")]),s._v(", w: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(", uom: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"in"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", status: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"A"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" item: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"paper"')]),s._v(", qty: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(", size: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" h: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.5")]),s._v(", w: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(", uom: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"in"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", status: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" item: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"planner"')]),s._v(", qty: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v(", size: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" h: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.85")]),s._v(", w: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(", uom: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cm"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", status: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" item: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postcard"')]),s._v(", qty: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(", size: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" h: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(", w: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.25")]),s._v(", uom: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cm"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", status: "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"A"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])]),s._v(" "),a("h4",{attrs:{id:"_3-2-1-查询所有"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-查询所有"}},[s._v("#")]),s._v(" 3.2.1 查询所有")]),s._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" db.inventory."),a("span",{pre:!0,attrs:{class:"token function-name function"}},[s._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_id"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115ec3e3e8322a9d326c243"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"item"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"journal"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"qty"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"w"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uom"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cm"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"A"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_id"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115ec3e3e8322a9d326c244"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"item"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"notebook"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"qty"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"w"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uom"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"in"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"A"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_id"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115ec3e3e8322a9d326c245"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"item"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"paper"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"qty"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.5")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"w"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uom"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"in"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_id"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115ec3e3e8322a9d326c246"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"item"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"planner"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"qty"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("75")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22.85")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"w"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uom"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cm"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"D"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"_id"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" ObjectId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"6115ec3e3e8322a9d326c247"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"item"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"postcard"')]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"qty"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("45")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"size"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"w"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.25")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uom"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cm"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"status"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"A"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("ul",[a("li",[a("p",[s._v("等价于：")]),s._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" inventory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])])])]),s._v(" "),a("h4",{attrs:{id:"_3-2-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2"}},[s._v("#")]),s._v(" 3.2.2 =")]),s._v(" "),a("h3",{attrs:{id:"_3-3-更新文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-更新文档"}},[s._v("#")]),s._v(" 3.3 更新文档")]),s._v(" "),a("h3",{attrs:{id:"_3-4-删除文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-删除文档"}},[s._v("#")]),s._v(" 3.4 删除文档")])])}),[],!1,null,null,null);t.default=e.exports}}]);