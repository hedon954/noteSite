(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{495:function(t,a,s){"use strict";s.r(a);var r=s(47),e=Object(r.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"å››ã€ä¼ è¾“å±‚"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å››ã€ä¼ è¾“å±‚"}},[t._v("#")]),t._v(" å››ã€ä¼ è¾“å±‚")]),t._v(" "),s("h2",{attrs:{id:"_1-tcp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-tcp"}},[t._v("#")]),t._v(" 1. TCP")]),t._v(" "),s("h3",{attrs:{id:"ç®€ä»‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[t._v("#")]),t._v(" ç®€ä»‹")]),t._v(" "),s("p",[t._v("TCPï¼ˆTransfer Control Protocolï¼‰æ˜¯é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®ã€‚")]),t._v(" "),s("p",[t._v("å°†åº”ç”¨å±‚çš„æ•°æ®æµåˆ†å‰²æˆæŠ¥æ–‡æ®µå¹¶å‘é€ç»™ç›®æ ‡èŠ‚ç‚¹çš„ TCP å±‚ã€‚")]),t._v(" "),s("p",[t._v("æ•°æ®åŒ…éƒ½æœ‰åºå·ï¼Œå¯¹æ–¹æ”¶åˆ°åˆ™å‘é€ ACK ç¡®è®¤ï¼Œæœªæ”¶åˆ°åˆ™é‡ä¼ ã€‚")]),t._v(" "),s("p",[t._v("ä½¿ç”¨å¥‡å¶æ ¡éªŒå¹¶æ£€æµ‹æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ˜¯å¦æœ‰è¯¯ã€‚")]),t._v(" "),s("h3",{attrs:{id:"tcp-æŠ¥æ–‡å¤´éƒ¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-æŠ¥æ–‡å¤´éƒ¨"}},[t._v("#")]),t._v(" TCP æŠ¥æ–‡å¤´éƒ¨")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gt3nfrtfepj31f80s6141.jpg",alt:"image-20200430162427317"}})]),t._v(" "),s("h3",{attrs:{id:"tcp-çš„ä¸‰æ¬¡æ¡æ‰‹-ğŸ¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-çš„ä¸‰æ¬¡æ¡æ‰‹-ğŸ¤"}},[t._v("#")]),t._v(" TCP çš„ä¸‰æ¬¡æ¡æ‰‹ ğŸ¤")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gt3nfu3tafj31ei0lote6.jpg",alt:"image-20200514170444237"}})]),t._v(" "),s("div",{staticClass:"language-markdown extra-class"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" åˆå§‹çŠ¶æ€")]),t._v("\né¦–å…ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½æ˜¯å¤„äº CLOSED çŠ¶æ€ã€‚å®¢æˆ·ç«¯ä¸»åŠ¨æ‰“å¼€ï¼Œç„¶åæœåŠ¡ç«¯è¢«åŠ¨æ‰“å¼€åè¿›å…¥ LISTEN çŠ¶æ€ã€‚\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" ç¬¬1æ¬¡æ¡æ‰‹")]),t._v("\nå®¢æˆ·ç«¯å‘é€ SYN åŒ…ç»™æœåŠ¡å™¨ï¼ŒåŒ…ä¸­å°†æ ‡å¿—ä½ SYN ç½®ä¸º1ï¼Œç„¶ååˆå§‹åŒ–ä¸€ä¸ªåºåˆ—å· Sequence Numberï¼Œè¿™é‡Œå‡è®¾ä¸º xã€‚ç„¶åå®¢æˆ·ç«¯å°±è¿›å…¥ SYN-SENT çŠ¶æ€ã€‚\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" ç¬¬2æ¬¡æ¡æ‰‹")]),t._v("\næœåŠ¡å™¨æ”¶åˆ° SYN åŒ…åè¿›å…¥ SYN-RCVD çŠ¶æ€ã€‚æœåŠ¡å™¨å¿…é¡»ç¡®è®¤å®¢æˆ·ç«¯çš„ SYN åŒ…ï¼Œæ‰€ä»¥å®ƒä¹Ÿå‘é€ä¸€ä¸ª SYN åŒ…ç»™å®¢æˆ·ç«¯ï¼Œè¿™ä¸ª SYN åŒ…ä¸­å°†æ ‡å¿—ä½ SYN å’Œ ACK éƒ½ç½®ä¸º1ï¼Œç„¶ååˆå§‹åŒ–ä¸€ä¸ªåºåˆ—å· Sequence Numberï¼Œè¿™é‡Œå‡è®¾ä¸º yã€‚åŒæ—¶å°† acknowledgment number ç½®ä¸º x+1ã€‚è¿™é‡Œ acknowledgment number ç½®ä¸º x+1 çš„åŸå› æ˜¯ä¹‹å‰å®¢æˆ·ç«¯å‘é€çš„ SYN åŒ…ä¸­ sequence number æ˜¯ xï¼Œè™½ç„¶ SYN åŒ…ä¸æºå¸¦æ•°æ®ï¼Œä½†æ˜¯å®ƒæœ¬èº«æ˜¯è¦æ¶ˆè€—ä¸€ä¸ª sequence number çš„ï¼Œæ‰€ä»¥æ˜¯ x+1ã€‚\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" ç¬¬3æ¬¡æ¡æ‰‹")]),t._v("\nå®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡å™¨è¿”å›çš„ SYN åŒ…åï¼Œéœ€è¦å†å‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª ACK åŒ…ï¼ˆç¡®è®¤åŒ…ï¼‰ã€‚è¯¥åŒ…ä¸­å°†æ ‡å¿—ä½ ACK ç½®ä¸º1ï¼Œsequence number ç½®ä¸º x+1ï¼Œacknowledgment number ç½®ä¸º y+1ï¼ŒåŸå› åŒä¸Šã€‚\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" æ•°æ®ä¼ é€")]),t._v("\nç¬¬3æ¬¡æ¡æ‰‹åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„è¿æ¥å°±å»ºç«‹å®Œæˆäº†ï¼ŒåŒæ–¹éƒ½è¿›å…¥ ESTABLISHED çŠ¶æ€ï¼Œå¯ä»¥è¿›è¡Œæ•°æ®ä¼ é€ç­‰æ“ä½œã€‚\n")])])]),s("h5",{attrs:{id:"ï¸-ä¸ºä»€ä¹ˆéœ€è¦3æ¬¡æ¡æ‰‹æ‰èƒ½å»ºç«‹èµ·è¿æ¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ï¸-ä¸ºä»€ä¹ˆéœ€è¦3æ¬¡æ¡æ‰‹æ‰èƒ½å»ºç«‹èµ·è¿æ¥"}},[t._v("#")]),t._v(" â‰ï¸ ä¸ºä»€ä¹ˆéœ€è¦3æ¬¡æ¡æ‰‹æ‰èƒ½å»ºç«‹èµ·è¿æ¥ï¼Ÿ")]),t._v(" "),s("p",[t._v("ä¸ºäº†åˆå§‹åŒ– Sequence Numberï¼ˆåºåˆ—å·ï¼‰çš„åˆå§‹å€¼ï¼Œè¦é€šçŸ¥åŒæ–¹æ•°æ®åŒ…çš„åºå·ï¼Œä½œä¸ºä»¥åé€šè®¯çš„åºå·ï¼Œä»¥ä¿è¯åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ï¼Œä¸ä¼šå› ä¸ºç½‘ç»œåŸå› è€Œå¯¼è‡´ä¹±åºï¼›")]),t._v(" "),s("h5",{attrs:{id:"ï¸-é¦–æ¬¡æ¡æ‰‹çš„éšæ‚£-syn-è¶…æ—¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ï¸-é¦–æ¬¡æ¡æ‰‹çš„éšæ‚£-syn-è¶…æ—¶"}},[t._v("#")]),t._v(" â€¼ï¸ é¦–æ¬¡æ¡æ‰‹çš„éšæ‚£ â€”â€” SYN è¶…æ—¶")]),t._v(" "),s("p",[t._v("[åŸå› ]")]),t._v(" "),s("ul",[s("li",[t._v("æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ SYN åŒ…ï¼Œå›å¤ SYN+ACK åŒ…çš„æ—¶å€™æœªæ”¶åˆ° ACK ç¡®è®¤ã€‚")])]),t._v(" "),s("p",[t._v("[æªæ–½]")]),t._v(" "),s("ul",[s("li",[t._v("æœåŠ¡å™¨ä¸æ–­é‡è¯•ç›´è‡³è¶…æ—¶ã€‚")]),t._v(" "),s("li",[t._v("Linux é»˜è®¤ç­‰å¾… 63 ç§’ï¼ˆ1+2+4+8+16+32ï¼‰æ‰æ–­å¼€è¿æ¥ï¼ˆå…±å°è¯•5æ¬¡ï¼‰ã€‚")])]),t._v(" "),s("p",[t._v("[åæœ]")]),t._v(" "),s("ul",[s("li",[t._v("SYB Flood æ”»å‡»ï¼šå®¢æˆ·ç«¯åœ¨çŸ­æ—¶é—´å†…ä¼ªé€ å¤§é‡ä¸å­˜åœ¨çš„IPåœ°å€ï¼Œå‘æœåŠ¡å™¨ä¸æ–­åœ°å‘é€synåŒ…ï¼ŒæœåŠ¡å™¨å›å¤ç¡®è®¤åŒ…ï¼Œå¹¶ç­‰å¾…å®¢æˆ·çš„ç¡®è®¤ï¼Œç”±äºæºåœ°å€æ˜¯ä¸å­˜åœ¨çš„ï¼ŒæœåŠ¡å™¨éœ€è¦ä¸æ–­çš„é‡å‘ç›´è‡³è¶…æ—¶ï¼Œè¿™äº›ä¼ªé€ çš„SYNåŒ…å°†é•¿æ—¶é—´å ç”¨æœªè¿æ¥é˜Ÿåˆ—ï¼Œæ­£å¸¸çš„SYNè¯·æ±‚è¢«ä¸¢å¼ƒï¼Œç›®æ ‡ç³»ç»Ÿè¿è¡Œç¼“æ…¢ï¼Œä¸¥é‡è€…å¼•èµ·ç½‘ç»œå µå¡ç”šè‡³ç³»ç»Ÿç˜«ç—ªã€‚")])]),t._v(" "),s("p",[t._v("[é’ˆå¯¹ SYN Flood çš„é˜²æŠ¤æªæ–½]")]),t._v(" "),s("ul",[s("li",[t._v("SYN é˜Ÿåˆ—æ»¡åï¼Œé€šè¿‡ tcp_syncookies å‚æ•°å›å‘ SYN Cookie")]),t._v(" "),s("li",[t._v("è‹¥ä¸ºæ­£å¸¸è¿æ¥åˆ™ Client ä¼šå›å‘ SYN Cookieï¼Œç›´æ¥å»ºç«‹è¿æ¥ï¼Œéæ­£å¸¸è¿æ¥åˆ™ä¸ä¼šæœ‰ååº”ã€‚")])]),t._v(" "),s("p",[t._v("[ä¿æ´»æœºåˆ¶]")]),t._v(" "),s("ul",[s("li",[t._v("å‘å¯¹æ–¹å‘é€ä¿æ´»æ¢æµ‹æŠ¥æ–‡ï¼Œå¦‚æœæœªæ”¶åˆ°å“åº”åˆ™ç»§ç»­å‘é€ã€‚å°è¯•æ¬¡æ•°è¾¾åˆ°ä¿æ´»æ¢æµ‹æ•°ä»æœªæ”¶åˆ°å“åº”åˆ™ä¸­æ–­è¿æ¥ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"tcp-çš„å››æ¬¡æŒ¥æ‰‹ğŸ‘‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-çš„å››æ¬¡æŒ¥æ‰‹ğŸ‘‹"}},[t._v("#")]),t._v(" TCP çš„å››æ¬¡æŒ¥æ‰‹ğŸ‘‹")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gt3nft5cvsj61f60okagp02.jpg",alt:"image-20200514171252743"}})]),t._v(" "),s("div",{staticClass:"language-markdown extra-class"},[s("pre",{pre:!0,attrs:{class:"language-markdown"}},[s("code",[s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" è¿æ¥çŠ¶æ€")]),t._v("\né¦–å…ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½æ˜¯ ESTABLISHED çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¼ é€çŠ¶æ€ã€‚\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" ç¬¬1æ¬¡æŒ¥æ‰‹")]),t._v("\nè¿™é‡Œå‡è®¾æ˜¯å®¢æˆ·ç«¯ä¸»åŠ¨å…³é—­è¿æ¥ï¼Œå®ƒä¼šåœæ­¢å‘é€æ•°æ®ï¼Œå¹¶å‘é€ä¸€ä¸ª FIN åŒ…ç»™æœåŠ¡å™¨ï¼ŒåŒ…ä¸­å°†æ ‡å¿—ä½ FIN ç½®ä¸º 1ï¼Œç„¶ååˆå§‹åŒ– sequence numberï¼Œåºåˆ—å·çš„å€¼æ˜¯å®¢æˆ·ç«¯å‰é¢å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·+1ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾ä¸º uã€‚å‘é€ FIN åŒ…åå®¢æˆ·ç«¯è¿›å…¥ FIN-WAIT-1 çŠ¶æ€ã€‚\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" ç¬¬2æ¬¡æŒ¥æ‰‹")]),t._v("\næœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ FIN åŒ…åï¼Œé€šçŸ¥ç›¸å…³çš„åº”ç”¨è¿›ç¨‹å®Œæˆæœ€åçš„å·¥ä½œï¼Œç„¶åå‘é€ä¸€ä¸ª ACK åŒ…ç»™å®¢æˆ·ç«¯ã€‚åŒ…ä¸­å°†æ ‡å¿—ä½ ACK ç½®ä¸º 1ï¼Œç„¶å sequence number æ˜¯æœåŠ¡å™¨å‘é€ç»™å®¢æˆ·ç«¯çš„æ•°æ®çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„åºå·+1ï¼Œ acknowledge number æ˜¯ u+1ã€‚\næœåŠ¡å™¨å‘é€å®Œ ACK åŒ…åå°±è¿›å…¥ CLOSE-WAIT çŠ¶æ€ã€‚\nåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯ä¸èƒ½å‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼Œä½†æ˜¯æœåŠ¡å™¨å¯ä»¥å‘å®¢æˆ·ç«¯å‘é€æ•°æ®ã€‚\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" ç¬¬3æ¬¡æŒ¥æ‰‹")]),t._v("\nå½“æ•°æ®ä¼ é€å®Œæ¯•ä¸”æœåŠ¡å™¨çš„åº”ç”¨è¿›ç¨‹å®Œæˆæœ€åçš„å·¥ä½œåï¼ŒæœåŠ¡å™¨å°±å‘é€ä¸€ä¸ª FIN åŒ…ç»™å®¢æˆ·ç«¯ï¼Œæ”¹åŒ…ä¸­å°† ACK å’Œ FIN éƒ½ç½®ä¸º1ã€‚ç„¶åæœåŠ¡å™¨è¿›å…¥ LAST-ACK çŠ¶æ€ã€‚\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" ç¬¬4æ¬¡æŒ¥æ‰‹")]),t._v("\nå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨å‘æ¥çš„ FIN åŒ…åï¼Œè¿›å…¥ TIME-WAIT çŠ¶æ€ï¼Œæ¥ç€å‘é€ä¸€ä¸ª ACK åŒ…ç»™æœåŠ¡å™¨ã€‚\n"),s("span",{pre:!0,attrs:{class:"token title important"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("#")]),t._v(" æ–­å¼€è¿æ¥")]),t._v("\næœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„ ACK åŒ…åï¼Œå°±è¿›å…¥ CLOSED çŠ¶æ€ã€‚å®¢æˆ·ç«¯è¿˜éœ€è¦å†ç­‰å¾… 2MSL(Maximum Segment Lifetime)æŠ¥æ–‡æœ€å¤§ç”Ÿå­˜æ—¶é—´ åæ‰è¿›å…¥ CLOSED çŠ¶æ€ï¼Œè‡³æ­¤ï¼Œå››æ¬¡æŒ¥æ‰‹å°±å®Œæˆäº†ã€‚\n")])])]),s("h5",{attrs:{id:"ï¸-ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æ¡æ‰‹æ‰èƒ½æ–­å¼€è¿æ¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ï¸-ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æ¡æ‰‹æ‰èƒ½æ–­å¼€è¿æ¥"}},[t._v("#")]),t._v(" â‰ï¸ ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æ¡æ‰‹æ‰èƒ½æ–­å¼€è¿æ¥ï¼Ÿ")]),t._v(" "),s("p",[t._v("å› ä¸º TCP æ˜¯å…¨åŒå·¥é€šä¿¡ï¼Œé€šä¿¡ä¸­çš„æ¯ä¸€æ–¹éƒ½åœ¨å‘é€å’Œæ¥æ”¶æŠ¥æ–‡æ®µã€‚æ‰€æœ‰å‘é€æ–¹å’Œæ¥æ”¶æ–¹éƒ½éœ€è¦ FIN æŠ¥æ–‡å’Œ ACK æŠ¥æ–‡å—ï¼Œ2+2=4ã€‚")]),t._v(" "),s("h5",{attrs:{id:"ï¸-ä¸ºä»€ä¹ˆä¼šæœ‰-time-wait-çŠ¶æ€"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ï¸-ä¸ºä»€ä¹ˆä¼šæœ‰-time-wait-çŠ¶æ€"}},[t._v("#")]),t._v(" â‰ï¸ ä¸ºä»€ä¹ˆä¼šæœ‰ TIME-WAIT çŠ¶æ€ï¼Ÿ")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("ç¡®ä¿æœ‰è¶³å¤Ÿçš„æ—¶é—´è®©å¯¹æ–¹æ”¶åˆ° ACK åŒ…ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡å‡ºç°åœ¨æœ¬è¿æ¥ä¸­ã€‚")])]),t._v(" "),s("li",[s("p",[t._v("é¿å…æ–°æ—§è¿æ¥æ··æ·†ã€‚")]),t._v(" "),s("p",[t._v("åœ¨linuxç³»ç»Ÿä¸Šï¼Œä¸€ä¸ªTCPç«¯å£ä¸èƒ½è¢«åŒæ—¶æ‰“å¼€å¤šæ¬¡ï¼Œå½“ä¸€ä¸ªTCPè¿æ¥å¤„äºTIME_WAITçŠ¶æ€æ—¶ï¼Œæˆ‘ä»¬æ— æ³•ä½¿ç”¨è¯¥é“¾æ¥çš„ç«¯å£æ¥å»ºç«‹ä¸€ä¸ªæ–°è¿æ¥ã€‚åè¿‡æ¥æ€è€ƒï¼Œå¦‚æœä¸å­˜åœ¨TIME_WAITçŠ¶æ€ï¼Œåˆ™åº”ç”¨ç¨‹åºèƒ½è¿‡ç«‹å³å»ºç«‹ä¸€ä¸ªå’Œåˆšå…³é—­çš„è¿æ¥ç›¸ä¼¼çš„è¿æ¥ï¼ˆè¿™é‡Œçš„ç›¸ä¼¼ï¼Œæ˜¯æŒ‡ä»–ä»¬å…·æœ‰ç›¸åŒçš„IPåœ°å€å’Œç«¯å£å·ï¼‰ã€‚è¿™ä¸ªæ–°çš„ã€å’ŒåŸæ¥ç›¸ä¼¼çš„è¿æ¥è¢«ç§°ä¸ºåŸæ¥è¿æ¥çš„åŒ–èº«ã€‚æ–°çš„åŒ–èº«å¯èƒ½å—åˆ°å±äºåŸæ¥è¿æ¥æºå¸¦åº”ç”¨ç¨‹åºæ•°æ®çš„TCPæŠ¥æ–‡æ®µï¼ˆè¿Ÿåˆ°çš„æŠ¥æ–‡æ®µï¼‰ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸è¯¥å‘ç”Ÿçš„ã€‚è¿™æ˜¯TIME_WAITçŠ¶æ€å­˜åœ¨çš„ç¬¬äºŒä¸ªåŸå› ã€‚")])])]),t._v(" "),s("h5",{attrs:{id:"ï¸-æœåŠ¡å™¨å‡ºç°å¤§é‡-close-wait-çŠ¶æ€çš„åŸå› "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ï¸-æœåŠ¡å™¨å‡ºç°å¤§é‡-close-wait-çŠ¶æ€çš„åŸå› "}},[t._v("#")]),t._v(" â‰ï¸ æœåŠ¡å™¨å‡ºç°å¤§é‡ CLOSE-WAIT çŠ¶æ€çš„åŸå› ")]),t._v(" "),s("ul",[s("li",[t._v("CLOSE-WAIT çŠ¶æ€äº§ç”Ÿåªæœ‰2ç§åŸå› ï¼š\n"),s("ul",[s("li",[t._v("æœåŠ¡å™¨æ²¡æœ‰å‘é€ ACK åŒ…ã€‚")]),t._v(" "),s("li",[t._v("æœåŠ¡å™¨å‘é€ ACK åŒ…ä½†æ˜¯è¿˜æ²¡æœ‰å‘é€ FIN åŒ…è¿™ä¸ªé˜¶æ®µã€‚")])])]),t._v(" "),s("li",[t._v("åŒæ–¹å…³é—­ socket è¿æ¥ï¼Œæˆ‘æ–¹å¿™äºè¯»æˆ–å†™ï¼Œæ²¡æœ‰åŠæ—¶å…³é—­è¿æ¥ã€‚\n"),s("ul",[s("li",[t._v("ä¸€èˆ¬æ˜¯å› ä¸ºç¨‹åºæœ‰ bug\n"),s("ul",[s("li",[t._v("æ²¡æœ‰åŠæ—¶é‡Šæ”¾èµ„æº")]),t._v(" "),s("li",[t._v("çº¿ç¨‹æ± é…ç½®ä¸åˆç†")])])])])])]),t._v(" "),s("h3",{attrs:{id:"tcp-çš„æ»‘åŠ¨çª—å£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-çš„æ»‘åŠ¨çª—å£"}},[t._v("#")]),t._v(" TCP çš„æ»‘åŠ¨çª—å£")]),t._v(" "),s("h5",{attrs:{id:"rtt"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rtt"}},[t._v("#")]),t._v(" RTT")]),t._v(" "),s("p",[t._v("RTTï¼ˆRound-Trip Timeï¼Œå¾ªç¯æ—¶é—´ï¼‰ï¼šå‘é€ä¸€ä¸ªæ•°æ®æŠ¥åˆ°æ”¶åˆ°å¯¹åº” ACK æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚")]),t._v(" "),s("h5",{attrs:{id:"rto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rto"}},[t._v("#")]),t._v(" RTO")]),t._v(" "),s("p",[t._v("RTOï¼ˆRetransmission TimeOutï¼šè¶…æ—¶é‡ä¼ æ—¶é—´ï¼‰ï¼šé‡ä¼ æ—¶é—´é—´éš”ã€‚")]),t._v(" "),s("h5",{attrs:{id:"ç®€ä»‹-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹-2"}},[t._v("#")]),t._v(" ç®€ä»‹")]),t._v(" "),s("p",[t._v("TCP ä½¿ç”¨æ»‘åŠ¨çª—å£åšæµé‡æ§åˆ¶ä¸ä¹±åºé‡æ’")]),t._v(" "),s("ul",[s("li",[t._v("ä¿è¯ TCP çš„å¯é æ€§")]),t._v(" "),s("li",[t._v("ä¿è¯ TCP çš„æµæ§ç‰¹æ€§")])]),t._v(" "),s("h5",{attrs:{id:"ä»¥å­—èŠ‚ä¸ºå•ä½æ»‘åŠ¨çª—å£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»¥å­—èŠ‚ä¸ºå•ä½æ»‘åŠ¨çª—å£"}},[t._v("#")]),t._v(" ä»¥å­—èŠ‚ä¸ºå•ä½æ»‘åŠ¨çª—å£")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gt3nfqw1k7j30u012ngu8.jpg",alt:"image-20200430174529185"}})]),t._v(" "),s("h5",{attrs:{id:"tcp-ç¼“å­˜ä¸æ»‘åŠ¨çª—å£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-ç¼“å­˜ä¸æ»‘åŠ¨çª—å£"}},[t._v("#")]),t._v(" TCP ç¼“å­˜ä¸æ»‘åŠ¨çª—å£")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gt3nfslcosj318a0gsq6r.jpg",alt:"image-20200430174608785"}})]),t._v(" "),s("p",[t._v("å‘é€ç¼“å­˜")]),t._v(" "),s("ul",[s("li",[t._v("å‡†å¤‡å‘é€çš„æ•°æ®")]),t._v(" "),s("li",[t._v("å‘é€ä½†æœªæ”¶åˆ°ç¡®è®¤çš„æ•°æ®")])]),t._v(" "),s("p",[t._v("æ¥æ”¶æ•°æ®")]),t._v(" "),s("ul",[s("li",[t._v("æŒ‰åºåˆ°è¾¾çš„ã€ä½†å°šæœªè¢«æ¥æ”¶ç¨‹åºè¯»å–çš„æ•°æ®")]),t._v(" "),s("li",[t._v("æœªæŒ‰åºåˆ°è¾¾çš„æ•°æ®")])]),t._v(" "),s("h3",{attrs:{id:"tcp-å¦‚ä½•åšåˆ°å¯é ä¼ è¾“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-å¦‚ä½•åšåˆ°å¯é ä¼ è¾“"}},[t._v("#")]),t._v(" TCP å¦‚ä½•åšåˆ°å¯é ä¼ è¾“")]),t._v(" "),s("p",[t._v("1ã€ç¡®è®¤å’Œé‡ä¼ ï¼šæ¥æ”¶æ–¹æ”¶åˆ°æŠ¥æ–‡å°±ä¼šç¡®è®¤ï¼Œå‘é€æ–¹å‘é€ä¸€æ®µæ—¶é—´åæ²¡æœ‰æ”¶åˆ°ç¡®è®¤å°±é‡ä¼ ã€‚")]),t._v(" "),s("p",[t._v("2ã€æ•°æ®æ ¡éªŒ")]),t._v(" "),s("p",[t._v("3ã€æ•°æ®åˆç†åˆ†ç‰‡å’Œæ’åºï¼š")]),t._v(" "),s("p",[t._v("UDPï¼šIPæ•°æ®æŠ¥å¤§äº1500å­—èŠ‚ï¼Œå¤§äºMTUã€‚è¿™ä¸ªæ—¶å€™å‘é€æ–¹ IP å±‚å°±éœ€è¦åˆ†ç‰‡(fragmentation)ã€‚æŠŠæ•°æ®æŠ¥åˆ†æˆè‹¥å¹²ç‰‡ï¼Œä½¿æ¯ä¸€ç‰‡éƒ½å°äºMTUã€‚è€Œæ¥æ”¶æ–¹ IP å±‚åˆ™éœ€è¦è¿›è¡Œæ•°æ®æŠ¥çš„é‡ç»„ã€‚è¿™æ ·å°±ä¼šå¤šåšè®¸å¤šäº‹æƒ…ã€‚è€Œæ›´ä¸¥é‡çš„æ˜¯ï¼Œç”±äº UDP çš„ç‰¹æ€§ã€‚å½“æŸä¸€ç‰‡æ•°æ®ä¼ é€ä¸­ä¸¢å¤±æ—¶,æ¥æ”¶æ–¹ä¾¿æ— æ³•é‡ç»„æ•°æ®æŠ¥ï¼Œå°†å¯¼è‡´ä¸¢å¼ƒæ•´ä¸ªUDPæ•°æ®æŠ¥ã€‚")]),t._v(" "),s("p",[t._v("TCP ä¼šæŒ‰ MTU åˆç†åˆ†ç‰‡ï¼Œæ¥æ”¶æ–¹ä¼šç¼“å­˜æœªæŒ‰åºåˆ°è¾¾çš„æ•°æ®ï¼Œé‡æ–°æ’åºåå†äº¤ç»™åº”ç”¨å±‚ã€‚")]),t._v(" "),s("p",[t._v("4ã€æµé‡æ§åˆ¶ï¼šå½“æ¥æ”¶æ–¹æ¥ä¸åŠå¤„ç†å‘é€æ–¹çš„æ•°æ®ï¼Œèƒ½æç¤ºå‘é€æ–¹é™ä½å‘é€çš„é€Ÿç‡ï¼Œé˜²æ­¢åŒ…ä¸¢å¤±ã€‚")]),t._v(" "),s("p",[t._v("5ã€æ‹¥å¡æ§åˆ¶ï¼šå½“ç½‘ç»œæ‹¥å¡æ—¶ï¼Œå‡å°‘æ•°æ®çš„å‘é€ã€‚")]),t._v(" "),s("h2",{attrs:{id:"_2-udp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-udp"}},[t._v("#")]),t._v(" 2. UDP")]),t._v(" "),s("h3",{attrs:{id:"ç®€ä»‹-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹-3"}},[t._v("#")]),t._v(" ç®€ä»‹")]),t._v(" "),s("p",[t._v("UDPï¼ˆUser Datagram Protocolï¼‰æ˜¯é¢å‘æ— è¿æ¥çš„ã€å°½æœ€å¤§åŠªåŠ›äº¤ä»˜çš„ã€åŸºäºæŠ¥æ–‡çš„ä¼ è¾“å±‚é€šè®¯åè®®ã€‚")]),t._v(" "),s("p",[t._v("UDP ä¸ç»´æŠ¤è¿æ¥çŠ¶æ€ï¼Œæ”¯æŒåŒæ—¶å‘å¤šä¸ªå®¢æˆ·ç«¯ä¼ è¾“ç›¸åŒçš„æ¶ˆæ¯ã€‚")]),t._v(" "),s("p",[t._v("æ•°æ®åŒ…æŠ¥å¤´åªæœ‰ 8 ä¸ªå­—èŠ‚ï¼Œé¢å¤–å¼€é”€è¾ƒå°ã€‚")]),t._v(" "),s("p",[t._v("ååé‡åªå—é™äºæ•°æ®ç”Ÿæˆé€Ÿç‡ã€ä¼ è¾“é€Ÿç‡ä»¥åŠæœºå™¨æ€§èƒ½ã€‚")]),t._v(" "),s("p",[t._v("å°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œä¸ä¿è¯å¯é äº¤ä»˜ï¼Œä¸éœ€è¦ç»´æŒå¤æ‚çš„é“¾æ¥çŠ¶æ€è¡¨ã€‚")]),t._v(" "),s("p",[t._v("é¢å‘æŠ¥æ–‡ï¼Œä¸å¯¹åº”ç”¨ç¨‹åºæäº¤çš„æŠ¥æ–‡ä¿¡æ¯è¿›è¡Œæ‹†åˆ†æˆ–è€…åˆå¹¶ã€‚")]),t._v(" "),s("h3",{attrs:{id:"udp-æŠ¥æ–‡å¤´éƒ¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#udp-æŠ¥æ–‡å¤´éƒ¨"}},[t._v("#")]),t._v(" UDP æŠ¥æ–‡å¤´éƒ¨")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gt3nfqcfjwj30eh048t8m.jpg",alt:"img"}})]),t._v(" "),s("h3",{attrs:{id:"udp-ç”¨æˆ·æ•°æ®æŠ¥çš„é¦–éƒ¨å’Œä¼ªé¦–éƒ¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#udp-ç”¨æˆ·æ•°æ®æŠ¥çš„é¦–éƒ¨å’Œä¼ªé¦–éƒ¨"}},[t._v("#")]),t._v(" UDP ç”¨æˆ·æ•°æ®æŠ¥çš„é¦–éƒ¨å’Œä¼ªé¦–éƒ¨")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gt3nfukvd1j318w0i2q7j.jpg",alt:"image-20200423120231304"}})]),t._v(" "),s("h3",{attrs:{id:"udp-é€šä¿¡è¿‡ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#udp-é€šä¿¡è¿‡ç¨‹"}},[t._v("#")]),t._v(" UDP é€šä¿¡è¿‡ç¨‹")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gt3nfs8624j30hs0dc3yu.jpg",alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"_3-tcp-ä¸-udp-å¯¹æ¯”"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-tcp-ä¸-udp-å¯¹æ¯”"}},[t._v("#")]),t._v(" 3. TCP ä¸ UDP å¯¹æ¯”")]),t._v(" "),s("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://tva1.sinaimg.cn/large/008i3skNly1gt3nftm7iqj31170u0adg.jpg",alt:"image-20210111000251220"}}),t._v(" "),s("Vssue")],1)}),[],!1,null,null,null);a.default=e.exports}}]);