<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>回溯法 | Hedon</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/noteSite/favicon.ico">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/noteSite/assets/css/0.styles.0f3b0cbd.css" as="style"><link rel="preload" href="/noteSite/assets/js/app.01a49d84.js" as="script"><link rel="preload" href="/noteSite/assets/js/2.6ff1f0ac.js" as="script"><link rel="preload" href="/noteSite/assets/js/244.61dcb355.js" as="script"><link rel="prefetch" href="/noteSite/assets/js/10.628f2b18.js"><link rel="prefetch" href="/noteSite/assets/js/100.fb02dc76.js"><link rel="prefetch" href="/noteSite/assets/js/101.fe41eb87.js"><link rel="prefetch" href="/noteSite/assets/js/102.65d8b022.js"><link rel="prefetch" href="/noteSite/assets/js/103.6f5e0841.js"><link rel="prefetch" href="/noteSite/assets/js/104.1dec2541.js"><link rel="prefetch" href="/noteSite/assets/js/105.413a0379.js"><link rel="prefetch" href="/noteSite/assets/js/106.89c9d739.js"><link rel="prefetch" href="/noteSite/assets/js/107.6f07503e.js"><link rel="prefetch" href="/noteSite/assets/js/108.1bdd9b3b.js"><link rel="prefetch" href="/noteSite/assets/js/109.179b0e37.js"><link rel="prefetch" href="/noteSite/assets/js/11.0f1631cd.js"><link rel="prefetch" href="/noteSite/assets/js/110.f1fd4ee6.js"><link rel="prefetch" href="/noteSite/assets/js/111.b0b6c796.js"><link rel="prefetch" href="/noteSite/assets/js/112.df5e38a0.js"><link rel="prefetch" href="/noteSite/assets/js/113.325c98fb.js"><link rel="prefetch" href="/noteSite/assets/js/114.0b75ffbc.js"><link rel="prefetch" href="/noteSite/assets/js/115.37da2c1c.js"><link rel="prefetch" href="/noteSite/assets/js/116.713803d9.js"><link rel="prefetch" href="/noteSite/assets/js/117.20ccb36c.js"><link rel="prefetch" href="/noteSite/assets/js/118.3c18ac89.js"><link rel="prefetch" href="/noteSite/assets/js/119.20390a15.js"><link rel="prefetch" href="/noteSite/assets/js/12.c90a7522.js"><link rel="prefetch" href="/noteSite/assets/js/120.1f253a2b.js"><link rel="prefetch" href="/noteSite/assets/js/121.532f622f.js"><link rel="prefetch" href="/noteSite/assets/js/122.8d23c099.js"><link rel="prefetch" href="/noteSite/assets/js/123.f9f39d6b.js"><link rel="prefetch" href="/noteSite/assets/js/124.f5caf8d5.js"><link rel="prefetch" href="/noteSite/assets/js/125.813aa0ae.js"><link rel="prefetch" href="/noteSite/assets/js/126.27d66fc0.js"><link rel="prefetch" href="/noteSite/assets/js/127.7ff37d93.js"><link rel="prefetch" href="/noteSite/assets/js/128.65c4dab5.js"><link rel="prefetch" href="/noteSite/assets/js/129.a16ebab1.js"><link rel="prefetch" href="/noteSite/assets/js/13.2f28a558.js"><link rel="prefetch" href="/noteSite/assets/js/130.6b554624.js"><link rel="prefetch" href="/noteSite/assets/js/131.42024b9f.js"><link rel="prefetch" href="/noteSite/assets/js/132.7c60ed53.js"><link rel="prefetch" href="/noteSite/assets/js/133.a4a9df9d.js"><link rel="prefetch" href="/noteSite/assets/js/134.957e2925.js"><link rel="prefetch" href="/noteSite/assets/js/135.71acb36c.js"><link rel="prefetch" href="/noteSite/assets/js/136.4939bfaf.js"><link rel="prefetch" href="/noteSite/assets/js/137.32749257.js"><link rel="prefetch" href="/noteSite/assets/js/138.cdbd067a.js"><link rel="prefetch" href="/noteSite/assets/js/139.e910dfe7.js"><link rel="prefetch" href="/noteSite/assets/js/14.a91dc8fb.js"><link rel="prefetch" href="/noteSite/assets/js/140.96df31a8.js"><link rel="prefetch" href="/noteSite/assets/js/141.a752c2c0.js"><link rel="prefetch" href="/noteSite/assets/js/142.2a6ab94b.js"><link rel="prefetch" href="/noteSite/assets/js/143.a1eca0e4.js"><link rel="prefetch" href="/noteSite/assets/js/144.e43553ca.js"><link rel="prefetch" href="/noteSite/assets/js/145.23c43354.js"><link rel="prefetch" href="/noteSite/assets/js/146.ddb4d611.js"><link rel="prefetch" href="/noteSite/assets/js/147.0472fe3e.js"><link rel="prefetch" href="/noteSite/assets/js/148.d5b4e53e.js"><link rel="prefetch" href="/noteSite/assets/js/149.beb20c2c.js"><link rel="prefetch" href="/noteSite/assets/js/15.6fd503b0.js"><link rel="prefetch" href="/noteSite/assets/js/150.956f590f.js"><link rel="prefetch" href="/noteSite/assets/js/151.a2ecf99d.js"><link rel="prefetch" href="/noteSite/assets/js/152.0c5baca0.js"><link rel="prefetch" href="/noteSite/assets/js/153.720bac4e.js"><link rel="prefetch" href="/noteSite/assets/js/154.7d43471a.js"><link rel="prefetch" href="/noteSite/assets/js/155.62897173.js"><link rel="prefetch" href="/noteSite/assets/js/156.c76ca334.js"><link rel="prefetch" href="/noteSite/assets/js/157.8ada3e6d.js"><link rel="prefetch" href="/noteSite/assets/js/158.34a53c9a.js"><link rel="prefetch" href="/noteSite/assets/js/159.5bf7d03b.js"><link rel="prefetch" href="/noteSite/assets/js/16.bbb3b0e4.js"><link rel="prefetch" href="/noteSite/assets/js/160.5be57e73.js"><link rel="prefetch" href="/noteSite/assets/js/161.74d700a3.js"><link rel="prefetch" href="/noteSite/assets/js/162.dac5be87.js"><link rel="prefetch" href="/noteSite/assets/js/163.31410a7f.js"><link rel="prefetch" href="/noteSite/assets/js/164.99467b0d.js"><link rel="prefetch" href="/noteSite/assets/js/165.f00d2734.js"><link rel="prefetch" href="/noteSite/assets/js/166.1e4f594b.js"><link rel="prefetch" href="/noteSite/assets/js/167.9984de29.js"><link rel="prefetch" href="/noteSite/assets/js/168.07f245b7.js"><link rel="prefetch" href="/noteSite/assets/js/169.04970e7e.js"><link rel="prefetch" href="/noteSite/assets/js/17.204dc718.js"><link rel="prefetch" href="/noteSite/assets/js/170.1ea40770.js"><link rel="prefetch" href="/noteSite/assets/js/171.fc257906.js"><link rel="prefetch" href="/noteSite/assets/js/172.8f98dbe0.js"><link rel="prefetch" href="/noteSite/assets/js/173.42ba030d.js"><link rel="prefetch" href="/noteSite/assets/js/174.0d5bd4ab.js"><link rel="prefetch" href="/noteSite/assets/js/175.279b00a9.js"><link rel="prefetch" href="/noteSite/assets/js/176.8164f7b6.js"><link rel="prefetch" href="/noteSite/assets/js/177.67381e2d.js"><link rel="prefetch" href="/noteSite/assets/js/178.2c8d203e.js"><link rel="prefetch" href="/noteSite/assets/js/179.1429b7a9.js"><link rel="prefetch" href="/noteSite/assets/js/18.b9adc259.js"><link rel="prefetch" href="/noteSite/assets/js/180.c794ae05.js"><link rel="prefetch" href="/noteSite/assets/js/181.eec076b3.js"><link rel="prefetch" href="/noteSite/assets/js/182.aa3c4f69.js"><link rel="prefetch" href="/noteSite/assets/js/183.16dcd3a6.js"><link rel="prefetch" href="/noteSite/assets/js/184.e969f132.js"><link rel="prefetch" href="/noteSite/assets/js/185.388b5ce0.js"><link rel="prefetch" href="/noteSite/assets/js/186.0f673ceb.js"><link rel="prefetch" href="/noteSite/assets/js/187.36881f36.js"><link rel="prefetch" href="/noteSite/assets/js/188.6a799b2d.js"><link rel="prefetch" href="/noteSite/assets/js/189.e579eda6.js"><link rel="prefetch" href="/noteSite/assets/js/19.7a0b985e.js"><link rel="prefetch" href="/noteSite/assets/js/190.cc101ef2.js"><link rel="prefetch" href="/noteSite/assets/js/191.2afd96fd.js"><link rel="prefetch" href="/noteSite/assets/js/192.1438e8d2.js"><link rel="prefetch" href="/noteSite/assets/js/193.2ebba9d2.js"><link rel="prefetch" href="/noteSite/assets/js/194.13f462e4.js"><link rel="prefetch" href="/noteSite/assets/js/195.754d3c13.js"><link rel="prefetch" href="/noteSite/assets/js/196.364755c8.js"><link rel="prefetch" href="/noteSite/assets/js/197.e3ca3386.js"><link rel="prefetch" href="/noteSite/assets/js/198.e0963443.js"><link rel="prefetch" href="/noteSite/assets/js/199.204b1ccd.js"><link rel="prefetch" href="/noteSite/assets/js/20.8f2c50c4.js"><link rel="prefetch" href="/noteSite/assets/js/200.aa4c5bd9.js"><link rel="prefetch" href="/noteSite/assets/js/201.7909d65e.js"><link rel="prefetch" href="/noteSite/assets/js/202.bef69d42.js"><link rel="prefetch" href="/noteSite/assets/js/203.98e0bd9d.js"><link rel="prefetch" href="/noteSite/assets/js/204.0673f94d.js"><link rel="prefetch" href="/noteSite/assets/js/205.f15a43a6.js"><link rel="prefetch" href="/noteSite/assets/js/206.ac53bd28.js"><link rel="prefetch" href="/noteSite/assets/js/207.14a713da.js"><link rel="prefetch" href="/noteSite/assets/js/208.51e6a79c.js"><link rel="prefetch" href="/noteSite/assets/js/209.74a91419.js"><link rel="prefetch" href="/noteSite/assets/js/21.3060b19d.js"><link rel="prefetch" href="/noteSite/assets/js/210.50c00fdc.js"><link rel="prefetch" href="/noteSite/assets/js/211.8869c969.js"><link rel="prefetch" href="/noteSite/assets/js/212.764166b0.js"><link rel="prefetch" href="/noteSite/assets/js/213.c35a3c6e.js"><link rel="prefetch" href="/noteSite/assets/js/214.44ed451f.js"><link rel="prefetch" href="/noteSite/assets/js/215.0f48d70a.js"><link rel="prefetch" href="/noteSite/assets/js/216.6724bf2f.js"><link rel="prefetch" href="/noteSite/assets/js/217.521a6e8c.js"><link rel="prefetch" href="/noteSite/assets/js/218.9c9d5dda.js"><link rel="prefetch" href="/noteSite/assets/js/219.e0e81167.js"><link rel="prefetch" href="/noteSite/assets/js/22.f7b382c7.js"><link rel="prefetch" href="/noteSite/assets/js/220.6c40d9df.js"><link rel="prefetch" href="/noteSite/assets/js/221.19ae02a5.js"><link rel="prefetch" href="/noteSite/assets/js/222.68582cec.js"><link rel="prefetch" href="/noteSite/assets/js/223.616685ad.js"><link rel="prefetch" href="/noteSite/assets/js/224.c39a2b5a.js"><link rel="prefetch" href="/noteSite/assets/js/225.e417d2b6.js"><link rel="prefetch" href="/noteSite/assets/js/226.d91de7a1.js"><link rel="prefetch" href="/noteSite/assets/js/227.2f317234.js"><link rel="prefetch" href="/noteSite/assets/js/228.c3803275.js"><link rel="prefetch" href="/noteSite/assets/js/229.cd16c9c4.js"><link rel="prefetch" href="/noteSite/assets/js/23.0ee0c5eb.js"><link rel="prefetch" href="/noteSite/assets/js/230.b7029a50.js"><link rel="prefetch" href="/noteSite/assets/js/231.a5a3c809.js"><link rel="prefetch" href="/noteSite/assets/js/232.a010a29b.js"><link rel="prefetch" href="/noteSite/assets/js/233.876c0f28.js"><link rel="prefetch" href="/noteSite/assets/js/234.fb35e706.js"><link rel="prefetch" href="/noteSite/assets/js/235.1b6d6ba1.js"><link rel="prefetch" href="/noteSite/assets/js/236.77557082.js"><link rel="prefetch" href="/noteSite/assets/js/237.a563209d.js"><link rel="prefetch" href="/noteSite/assets/js/238.611d9a1f.js"><link rel="prefetch" href="/noteSite/assets/js/239.c2136c89.js"><link rel="prefetch" href="/noteSite/assets/js/24.1a933e6c.js"><link rel="prefetch" href="/noteSite/assets/js/240.3c6819ab.js"><link rel="prefetch" href="/noteSite/assets/js/241.3ade3097.js"><link rel="prefetch" href="/noteSite/assets/js/242.eb880d58.js"><link rel="prefetch" href="/noteSite/assets/js/243.a2b84e0f.js"><link rel="prefetch" href="/noteSite/assets/js/245.0c34b77d.js"><link rel="prefetch" href="/noteSite/assets/js/246.af23e974.js"><link rel="prefetch" href="/noteSite/assets/js/247.42b44bd2.js"><link rel="prefetch" href="/noteSite/assets/js/248.2b64518b.js"><link rel="prefetch" href="/noteSite/assets/js/249.5b79a578.js"><link rel="prefetch" href="/noteSite/assets/js/25.df04ad1a.js"><link rel="prefetch" href="/noteSite/assets/js/250.44d9905d.js"><link rel="prefetch" href="/noteSite/assets/js/251.b15f5a76.js"><link rel="prefetch" href="/noteSite/assets/js/252.5a17202a.js"><link rel="prefetch" href="/noteSite/assets/js/253.08c4e4e3.js"><link rel="prefetch" href="/noteSite/assets/js/254.fc28e4b0.js"><link rel="prefetch" href="/noteSite/assets/js/255.025e2caa.js"><link rel="prefetch" href="/noteSite/assets/js/256.b84f5598.js"><link rel="prefetch" href="/noteSite/assets/js/257.661d5875.js"><link rel="prefetch" href="/noteSite/assets/js/258.9b1bba31.js"><link rel="prefetch" href="/noteSite/assets/js/259.37ddc4bb.js"><link rel="prefetch" href="/noteSite/assets/js/26.4eb6fe37.js"><link rel="prefetch" href="/noteSite/assets/js/260.cda9efaa.js"><link rel="prefetch" href="/noteSite/assets/js/261.f1be5894.js"><link rel="prefetch" href="/noteSite/assets/js/262.d7d7ee1a.js"><link rel="prefetch" href="/noteSite/assets/js/263.4e2a4744.js"><link rel="prefetch" href="/noteSite/assets/js/264.d8b903a5.js"><link rel="prefetch" href="/noteSite/assets/js/265.276588de.js"><link rel="prefetch" href="/noteSite/assets/js/266.584fd8cc.js"><link rel="prefetch" href="/noteSite/assets/js/267.a6b6a6f5.js"><link rel="prefetch" href="/noteSite/assets/js/268.43c1c0c9.js"><link rel="prefetch" href="/noteSite/assets/js/269.ea6831a0.js"><link rel="prefetch" href="/noteSite/assets/js/27.92ef4fae.js"><link rel="prefetch" href="/noteSite/assets/js/270.a6458943.js"><link rel="prefetch" href="/noteSite/assets/js/271.4184231f.js"><link rel="prefetch" href="/noteSite/assets/js/272.a6ccf9da.js"><link rel="prefetch" href="/noteSite/assets/js/273.eed38c8f.js"><link rel="prefetch" href="/noteSite/assets/js/274.3aa60dcb.js"><link rel="prefetch" href="/noteSite/assets/js/275.7adfd15a.js"><link rel="prefetch" href="/noteSite/assets/js/276.21603878.js"><link rel="prefetch" href="/noteSite/assets/js/277.78bd656b.js"><link rel="prefetch" href="/noteSite/assets/js/278.ce594b2e.js"><link rel="prefetch" href="/noteSite/assets/js/279.0fbfa833.js"><link rel="prefetch" href="/noteSite/assets/js/28.88f99f79.js"><link rel="prefetch" href="/noteSite/assets/js/280.73d64f11.js"><link rel="prefetch" href="/noteSite/assets/js/281.23ccfd6f.js"><link rel="prefetch" href="/noteSite/assets/js/282.3f52a864.js"><link rel="prefetch" href="/noteSite/assets/js/283.f06c86ad.js"><link rel="prefetch" href="/noteSite/assets/js/284.390d6c44.js"><link rel="prefetch" href="/noteSite/assets/js/285.72af1964.js"><link rel="prefetch" href="/noteSite/assets/js/286.1a63f2bb.js"><link rel="prefetch" href="/noteSite/assets/js/287.13937e3c.js"><link rel="prefetch" href="/noteSite/assets/js/288.d042012e.js"><link rel="prefetch" href="/noteSite/assets/js/289.46c14e72.js"><link rel="prefetch" href="/noteSite/assets/js/29.04f603ce.js"><link rel="prefetch" href="/noteSite/assets/js/290.b730e8e8.js"><link rel="prefetch" href="/noteSite/assets/js/291.7b3a2d3c.js"><link rel="prefetch" href="/noteSite/assets/js/292.5d978984.js"><link rel="prefetch" href="/noteSite/assets/js/293.241fa81d.js"><link rel="prefetch" href="/noteSite/assets/js/294.568211b2.js"><link rel="prefetch" href="/noteSite/assets/js/295.33e373d6.js"><link rel="prefetch" href="/noteSite/assets/js/296.385fe164.js"><link rel="prefetch" href="/noteSite/assets/js/297.d655797d.js"><link rel="prefetch" href="/noteSite/assets/js/298.900bfcd7.js"><link rel="prefetch" href="/noteSite/assets/js/299.9ecaecb3.js"><link rel="prefetch" href="/noteSite/assets/js/3.62138a35.js"><link rel="prefetch" href="/noteSite/assets/js/30.3df858ff.js"><link rel="prefetch" href="/noteSite/assets/js/300.0ac50035.js"><link rel="prefetch" href="/noteSite/assets/js/301.3db350d4.js"><link rel="prefetch" href="/noteSite/assets/js/302.8851cb81.js"><link rel="prefetch" href="/noteSite/assets/js/303.aec90ac8.js"><link rel="prefetch" href="/noteSite/assets/js/304.cee6c429.js"><link rel="prefetch" href="/noteSite/assets/js/305.3cc0e23f.js"><link rel="prefetch" href="/noteSite/assets/js/306.978280ed.js"><link rel="prefetch" href="/noteSite/assets/js/307.ad36765f.js"><link rel="prefetch" href="/noteSite/assets/js/308.3e3fd075.js"><link rel="prefetch" href="/noteSite/assets/js/309.40f5fab1.js"><link rel="prefetch" href="/noteSite/assets/js/31.3affb8bf.js"><link rel="prefetch" href="/noteSite/assets/js/310.2d882cdf.js"><link rel="prefetch" href="/noteSite/assets/js/311.59670923.js"><link rel="prefetch" href="/noteSite/assets/js/312.60b41aa2.js"><link rel="prefetch" href="/noteSite/assets/js/32.9594ce12.js"><link rel="prefetch" href="/noteSite/assets/js/33.39c3f980.js"><link rel="prefetch" href="/noteSite/assets/js/34.d451f5d8.js"><link rel="prefetch" href="/noteSite/assets/js/35.956398a7.js"><link rel="prefetch" href="/noteSite/assets/js/36.a2f9b5ef.js"><link rel="prefetch" href="/noteSite/assets/js/37.4a13d5ab.js"><link rel="prefetch" href="/noteSite/assets/js/38.5533f445.js"><link rel="prefetch" href="/noteSite/assets/js/39.3235028f.js"><link rel="prefetch" href="/noteSite/assets/js/4.a61e4cea.js"><link rel="prefetch" href="/noteSite/assets/js/40.20882ae0.js"><link rel="prefetch" href="/noteSite/assets/js/41.bca6e7f2.js"><link rel="prefetch" href="/noteSite/assets/js/42.05904970.js"><link rel="prefetch" href="/noteSite/assets/js/43.b66267b7.js"><link rel="prefetch" href="/noteSite/assets/js/44.34ab495d.js"><link rel="prefetch" href="/noteSite/assets/js/45.b8df90fc.js"><link rel="prefetch" href="/noteSite/assets/js/46.40134f2d.js"><link rel="prefetch" href="/noteSite/assets/js/47.3e3893e2.js"><link rel="prefetch" href="/noteSite/assets/js/48.0c8b7cd5.js"><link rel="prefetch" href="/noteSite/assets/js/49.3e5206df.js"><link rel="prefetch" href="/noteSite/assets/js/5.2bccd6df.js"><link rel="prefetch" href="/noteSite/assets/js/50.118c4f5c.js"><link rel="prefetch" href="/noteSite/assets/js/51.5d056a28.js"><link rel="prefetch" href="/noteSite/assets/js/52.6f79a86f.js"><link rel="prefetch" href="/noteSite/assets/js/53.32be0296.js"><link rel="prefetch" href="/noteSite/assets/js/54.186fd282.js"><link rel="prefetch" href="/noteSite/assets/js/55.2a874220.js"><link rel="prefetch" href="/noteSite/assets/js/56.e8e5e0f5.js"><link rel="prefetch" href="/noteSite/assets/js/57.456e67d8.js"><link rel="prefetch" href="/noteSite/assets/js/58.5acd6529.js"><link rel="prefetch" href="/noteSite/assets/js/59.15fce7ff.js"><link rel="prefetch" href="/noteSite/assets/js/6.f3d86aa7.js"><link rel="prefetch" href="/noteSite/assets/js/60.42583b94.js"><link rel="prefetch" href="/noteSite/assets/js/61.41517931.js"><link rel="prefetch" href="/noteSite/assets/js/62.05e125e9.js"><link rel="prefetch" href="/noteSite/assets/js/63.81a1ca10.js"><link rel="prefetch" href="/noteSite/assets/js/64.5935571d.js"><link rel="prefetch" href="/noteSite/assets/js/65.c72c985f.js"><link rel="prefetch" href="/noteSite/assets/js/66.26019a22.js"><link rel="prefetch" href="/noteSite/assets/js/67.2a9c8104.js"><link rel="prefetch" href="/noteSite/assets/js/68.982fe5f0.js"><link rel="prefetch" href="/noteSite/assets/js/69.0f26e2c8.js"><link rel="prefetch" href="/noteSite/assets/js/7.f685cce4.js"><link rel="prefetch" href="/noteSite/assets/js/70.7a3b6d07.js"><link rel="prefetch" href="/noteSite/assets/js/71.49d0fe48.js"><link rel="prefetch" href="/noteSite/assets/js/72.11aef02b.js"><link rel="prefetch" href="/noteSite/assets/js/73.5d9fdbfb.js"><link rel="prefetch" href="/noteSite/assets/js/74.ac36a0f8.js"><link rel="prefetch" href="/noteSite/assets/js/75.efc117db.js"><link rel="prefetch" href="/noteSite/assets/js/76.d7ba7d60.js"><link rel="prefetch" href="/noteSite/assets/js/77.c514ff0c.js"><link rel="prefetch" href="/noteSite/assets/js/78.867e0c49.js"><link rel="prefetch" href="/noteSite/assets/js/79.e2e3e5d8.js"><link rel="prefetch" href="/noteSite/assets/js/8.976ce270.js"><link rel="prefetch" href="/noteSite/assets/js/80.4566ea0a.js"><link rel="prefetch" href="/noteSite/assets/js/81.146dbebd.js"><link rel="prefetch" href="/noteSite/assets/js/82.8726fcf8.js"><link rel="prefetch" href="/noteSite/assets/js/83.320ed96e.js"><link rel="prefetch" href="/noteSite/assets/js/84.f721b181.js"><link rel="prefetch" href="/noteSite/assets/js/85.0aaeac6c.js"><link rel="prefetch" href="/noteSite/assets/js/86.a53021d8.js"><link rel="prefetch" href="/noteSite/assets/js/87.6d836af2.js"><link rel="prefetch" href="/noteSite/assets/js/88.4dcd05f4.js"><link rel="prefetch" href="/noteSite/assets/js/89.2af75837.js"><link rel="prefetch" href="/noteSite/assets/js/9.599a8138.js"><link rel="prefetch" href="/noteSite/assets/js/90.f09bdab6.js"><link rel="prefetch" href="/noteSite/assets/js/91.0ba2921d.js"><link rel="prefetch" href="/noteSite/assets/js/92.d528c886.js"><link rel="prefetch" href="/noteSite/assets/js/93.48b638a1.js"><link rel="prefetch" href="/noteSite/assets/js/94.2aecce1e.js"><link rel="prefetch" href="/noteSite/assets/js/95.366a0751.js"><link rel="prefetch" href="/noteSite/assets/js/96.50897e13.js"><link rel="prefetch" href="/noteSite/assets/js/97.720e0ff3.js"><link rel="prefetch" href="/noteSite/assets/js/98.2a5e029f.js"><link rel="prefetch" href="/noteSite/assets/js/99.61cacd46.js">
    <link rel="stylesheet" href="/noteSite/assets/css/0.styles.0f3b0cbd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/noteSite/" class="home-link router-link-active"><img src="/noteSite/images/hedon.png" alt="Hedon" class="logo"> <span class="site-name can-hide">Hedon</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/noteSite/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/noteSite/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS Menu" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="CS Menu" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/noteSite/cs/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/os/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/cn/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/component/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/noteSite/backend/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/golang/" class="nav-link">
  Golang
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/middleware/" class="nav-link">
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/distribute/" class="nav-link">
  分布式
</a></li></ul></div></div><div class="nav-item"><a href="/noteSite/frontend/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/noteSite/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/noteSite/mac/" class="nav-link">
  Mac
</a></div><div class="nav-item"><a href="/noteSite/leetcode/" class="nav-link router-link-active">
  Leetcode
</a></div><div class="nav-item"><a href="/noteSite/paper/" class="nav-link">
  Paper
</a></div><div class="nav-item"><a href="https://github.com/hedon954/noteSite" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/noteSite/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/noteSite/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS Menu" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="CS Menu" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/noteSite/cs/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/os/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/cn/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/component/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/noteSite/backend/java/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/golang/" class="nav-link">
  Golang
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/middleware/" class="nav-link">
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/distribute/" class="nav-link">
  分布式
</a></li></ul></div></div><div class="nav-item"><a href="/noteSite/frontend/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/noteSite/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/noteSite/mac/" class="nav-link">
  Mac
</a></div><div class="nav-item"><a href="/noteSite/leetcode/" class="nav-link router-link-active">
  Leetcode
</a></div><div class="nav-item"><a href="/noteSite/paper/" class="nav-link">
  Paper
</a></div><div class="nav-item"><a href="https://github.com/hedon954/noteSite" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>查找算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>排序算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数组</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>查找表</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>链表</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>栈丨队列</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>二叉树</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>回溯法</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/noteSite/leetcode/backTracing.html" aria-current="page" class="active sidebar-link">回溯法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#树形问题" class="sidebar-link">树形问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-17-letter-combinations-of-a-phone-number" class="sidebar-link">Leetcode 17 Letter Combinations Of A Phone Number</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-93-restore-ip-address" class="sidebar-link">Leetcode 93 Restore IP Address</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-131-palindrome-partitioning" class="sidebar-link">Leetcode 131 Palindrome Partitioning</a></li></ul></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#排列问题" class="sidebar-link">排列问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-46-permutations" class="sidebar-link">Leetcode 46 Permutations</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-47-permutations-ii" class="sidebar-link">Leetcode 47 Permutations ii</a></li></ul></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#组合问题" class="sidebar-link">组合问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-77-combinations" class="sidebar-link">Leetcode 77 Combinations</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-39-combination-sum" class="sidebar-link">Leetcode 39 Combination Sum</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-40-combination-sum-ii" class="sidebar-link">Leetcode 40 Combination Sum II</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-combination-sum-iii" class="sidebar-link">Leetcode Combination Sum III</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-78-subsets" class="sidebar-link">Leetcode 78 Subsets</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-401-binary-watch" class="sidebar-link">Leetcode 401 Binary Watch</a></li></ul></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#二维平面" class="sidebar-link">二维平面</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-79-word-search" class="sidebar-link">Leetcode 79 Word Search</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-200-number-of-islands" class="sidebar-link">Leetcode 200 Number of Islands</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-130-surrounded-regions" class="sidebar-link">Leetcode 130 Surrounded Regions</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-417-pacific-atlantic-water-flow" class="sidebar-link">Leetcode 417 Pacific Atlantic Water Flow</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-51-n-queens" class="sidebar-link">Leetcode 51 N Queens</a></li><li class="sidebar-sub-header"><a href="/noteSite/leetcode/backTracing.html#leetcode-n-queens" class="sidebar-link">Leetcode N Queens</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="回溯法"><a href="#回溯法" class="header-anchor">#</a> 回溯法</h1> <p>回溯三部曲：</p> <ol><li><p>确定回溯函数的返回值和参数</p> <p>回溯算法中函数的返回值一般为 void，一般将结果保存在一个全局变量中；</p> <p>因为回溯算法需要的参数并不像二叉树的递归过程那么容易一次性确定下来，所以一般是先写逻辑，然后需要什么参数，就填什么参数；</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">void</span> <span class="token function">backtracking</span><span class="token punctuation">(</span>参数，已选择的列表<span class="token punctuation">)</span>
</code></pre></div></li> <li><p>确定回溯终止条件</p> <p>既然是树形结构，那么遍历树形结构就一定要有终止条件，所以回溯也有要终止条件。</p> <p>什么时候达到了终止条件？从树中就可以看出，一般来说搜索到叶子节点了，也就找到了满足条件的一个答案，把这个答案存放起来，并结束本层递归。</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>终止条件<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   将已选择的列表存放在结果中<span class="token punctuation">;</span>
   <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>确定回溯搜索的遍历过程</p> <p>回溯法一般是在集合中递归搜索，集合的大小构成了树的宽度，递归的深度构成了树的深度，如下图所示。</p> <p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h69zdo9gboj20j108jt97.jpg" alt="preview"></p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">for</span> <span class="token punctuation">(</span>确定起点，选择：本层集合中的元素（树中节点孩子的数量就是集合的大小）<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  处理节点；
  <span class="token function">backtracing</span><span class="token punctuation">(</span>路径，已选择列表<span class="token punctuation">)</span>；
  回溯，撤销处理结果；
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="树形问题"><a href="#树形问题" class="header-anchor">#</a> 树形问题</h2> <h3 id="leetcode-17-letter-combinations-of-a-phone-number"><a href="#leetcode-17-letter-combinations-of-a-phone-number" class="header-anchor">#</a> Leetcode 17 Letter Combinations Of A Phone Number</h3> <blockquote><p>https://leetcode.cn/problems/letter-combinations-of-a-phone-number/</p></blockquote> <p>因为题目要求映射关系要一一对应，本题是典型的树形问题，所以我们只需要尝试前面字母的每一种情况，然后再尝试下一个，直到遍历完 digits。</p> <ul><li><p>digits 是数字字符串</p></li> <li><p>s(digits) 是 digits 所能代表的字母字符串</p></li> <li><p>s(digits[0...n-1])</p> <p>= letter(digits[0]) + s(digits[1...n-1])</p> <p>= letter(digits[0]) + letter(digits[1]) + s(digits[2...n-1])</p> <p>= ...</p></li></ul> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span>

<span class="token keyword">func</span> <span class="token function">letterCombinations</span><span class="token punctuation">(</span>digits <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> digits <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span>
		
  	<span class="token comment">// 用 map 来记录每一个映射关系</span>
    m <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>
    m<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">}</span>
    m<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token string">'d'</span><span class="token punctuation">,</span> <span class="token string">'e'</span><span class="token punctuation">,</span> <span class="token string">'f'</span><span class="token punctuation">}</span>
    m<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token string">'g'</span><span class="token punctuation">,</span> <span class="token string">'h'</span><span class="token punctuation">,</span> <span class="token string">'i'</span><span class="token punctuation">}</span>
    m<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token string">'j'</span><span class="token punctuation">,</span> <span class="token string">'k'</span><span class="token punctuation">,</span> <span class="token string">'l'</span><span class="token punctuation">}</span>
    m<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token string">'m'</span><span class="token punctuation">,</span> <span class="token string">'n'</span><span class="token punctuation">,</span> <span class="token string">'o'</span><span class="token punctuation">}</span>
    m<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token string">'p'</span><span class="token punctuation">,</span> <span class="token string">'q'</span><span class="token punctuation">,</span> <span class="token string">'r'</span><span class="token punctuation">,</span> <span class="token string">'s'</span><span class="token punctuation">}</span>
    m<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token string">'t'</span><span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">,</span> <span class="token string">'v'</span><span class="token punctuation">}</span>
    m<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">{</span><span class="token string">'w'</span><span class="token punctuation">,</span> <span class="token string">'x'</span><span class="token punctuation">,</span> <span class="token string">'y'</span><span class="token punctuation">,</span> <span class="token string">'z'</span><span class="token punctuation">}</span>
  	
    <span class="token keyword">return</span> <span class="token function">help</span><span class="token punctuation">(</span>digits<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>digits<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// DFS</span>
<span class="token comment">// index: 当前尝试的数字</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>digits <span class="token builtin">string</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> end <span class="token builtin">int</span><span class="token punctuation">,</span> s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> index <span class="token operator">==</span> end <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
  
  	<span class="token comment">// 取出当前数字可以代表的字母</span>
    cs <span class="token operator">:=</span> m<span class="token punctuation">[</span><span class="token function">int</span><span class="token punctuation">(</span>digits<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token string">'0'</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
  	
  	<span class="token comment">// 尝试每一种情况，并继续尝试下一个数字</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>cs<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
        res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token function">help</span><span class="token punctuation">(</span>digits<span class="token punctuation">,</span> index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> end <span class="token punctuation">,</span> s <span class="token operator">+</span> <span class="token function">string</span><span class="token punctuation">(</span>cs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">...</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-93-restore-ip-address"><a href="#leetcode-93-restore-ip-address" class="header-anchor">#</a> Leetcode 93 Restore IP Address</h3> <blockquote><p>https://leetcode.cn/problems/restore-ip-addresses/</p></blockquote> <p>本题跟 Leetcode 17 其实是同一类问题，只是在不断往下尝试的时候，该尝试是有限制的：</p> <ul><li>每确定一个整数，最多尝试 3 位数；</li> <li>整数一定要 0~255，且不能有前导零；</li> <li>s 一定要够划分为 4 个部分；</li></ul> <p>所以整体思路：</p> <ol><li>逐渐确定 4 个整数；</li> <li>每一个整数尝试 3 次，分别为长度 1，长度 2 和长度 3；</li> <li>如果整数合法，就递归尝试下一个整数；</li> <li>直到尝试第 4 个整数，如果还满足条件，就存入 res，如果不满足，就丢弃；</li></ol> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 答案</span>
<span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>

<span class="token keyword">func</span> <span class="token function">restoreIpAddresses</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
  	<span class="token comment">// 重置 res</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">4</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span>

    <span class="token function">help</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// s: 原ip字符串</span>
<span class="token comment">// index: 即将要遍历 s 的下标</span>
<span class="token comment">// wantCount：即将要确定第几个整数</span>
<span class="token comment">// totalCount: 需要确定多少个整数，固定为 4</span>
<span class="token comment">// ip: 目前已经构造好的 ip 地址</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> wantCount<span class="token punctuation">,</span> totalCount <span class="token builtin">int</span><span class="token punctuation">,</span> ip <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 递归出口：确定最后一个整数</span>
    <span class="token keyword">if</span> wantCount <span class="token operator">==</span> totalCount <span class="token punctuation">{</span>
        <span class="token comment">// s 必须用完</span>
        tmp <span class="token operator">:=</span> s<span class="token punctuation">[</span>index<span class="token punctuation">:</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token function">validate</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> ip <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span> tmp<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// DFS，每个整数最多尝试3位</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span>index<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
        num <span class="token operator">:=</span> s<span class="token punctuation">[</span>index<span class="token punctuation">:</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token operator">!</span><span class="token function">validate</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>
        newIp <span class="token operator">:=</span> ip
        <span class="token keyword">if</span> wantCount <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">{</span>
            newIp <span class="token operator">=</span> num
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            newIp <span class="token operator">=</span> ip <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span> num
        <span class="token punctuation">}</span>
       	<span class="token comment">// 继续尝试下一位</span>
        <span class="token function">help</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> wantCount<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>totalCount<span class="token punctuation">,</span> newIp<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// 0 ~ 255</span>
<span class="token keyword">func</span> <span class="token function">validate</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token comment">// 长度不可能超过3，不可能小于1</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">3</span>  <span class="token operator">||</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 不能含有前导零</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'0'</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>
    i<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Atoi</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span>
    <span class="token keyword">return</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> <span class="token number">255</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-131-palindrome-partitioning"><a href="#leetcode-131-palindrome-partitioning" class="header-anchor">#</a> Leetcode 131 Palindrome Partitioning</h3> <blockquote><p>https://leetcode.cn/problems/palindrome-partitioning/</p></blockquote> <p>本题思路还是跟前两题一致，只不过尝试的时候判断条件变成了 palindrome，本题还可以再引入 map 来减少重复计算。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// 0: 未确定</span>
<span class="token comment">// 1: 确定回文</span>
<span class="token comment">// 2: 确定不回文</span>
<span class="token keyword">var</span> m <span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token function">partition</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
	m <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span>
	<span class="token keyword">var</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
	<span class="token keyword">return</span> <span class="token function">help</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// s: 原字符串</span>
<span class="token comment">// startIndex: 要开始尝试寻找回文串的下标</span>
<span class="token comment">// tmp: 当前已经确定的回文串</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">,</span> startIndex <span class="token builtin">int</span><span class="token punctuation">,</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>

	<span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>

	<span class="token comment">// 递归出口1：s 为 空</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 递归出口2：扫描完 s 了</span>
	<span class="token keyword">if</span> startIndex <span class="token operator">==</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		tmp1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token function">copy</span><span class="token punctuation">(</span>tmp1<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>		<span class="token comment">// 这里需要 copy，否则后面涉及到 tmp 扩容的话，指针操作会影响到 tmp 的值</span>
		res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tmp1<span class="token punctuation">)</span>
		<span class="token keyword">return</span> res
	<span class="token punctuation">}</span>

	<span class="token keyword">for</span> i <span class="token operator">:=</span> startIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
		si <span class="token operator">:=</span> s<span class="token punctuation">[</span>startIndex<span class="token punctuation">:</span>i<span class="token punctuation">]</span>
		<span class="token keyword">if</span> <span class="token function">palindrome</span><span class="token punctuation">(</span>si<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token function">help</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">append</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> si<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">...</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// 判断 s 是否回文</span>
<span class="token comment">// 引入 map 来减少重复计算</span>
<span class="token keyword">func</span> <span class="token function">palindrome</span><span class="token punctuation">(</span>s <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> m<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> m<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span>
	<span class="token punctuation">}</span>
	left <span class="token operator">:=</span> <span class="token number">0</span>
	right <span class="token operator">:=</span> <span class="token function">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>
	<span class="token keyword">for</span> left <span class="token operator">&lt;</span> right <span class="token punctuation">{</span>
		<span class="token keyword">if</span> s<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">!=</span> s<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token punctuation">{</span>
			m<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span>
		<span class="token punctuation">}</span>
		left<span class="token operator">++</span>
		right<span class="token operator">--</span>
	<span class="token punctuation">}</span>
	m<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="排列问题"><a href="#排列问题" class="header-anchor">#</a> 排列问题</h2> <blockquote><p>排列问题，经常可以加一个 visited[] 来记录访问情况。</p></blockquote> <h3 id="leetcode-46-permutations"><a href="#leetcode-46-permutations" class="header-anchor">#</a> Leetcode 46 Permutations</h3> <blockquote><p>https://leetcode.cn/problems/permutations/</p></blockquote> <p>根据题目意思，nums 里的数字，每个只能用一次。</p> <p>例如：我们用了 [1]，就只剩下 [2,3]，再用 [2]，就只剩下 [3]。</p> <p>所以我们可以设置一个全局变量 visited，来记录哪些数字是访问了的，这样就不会重复访问数字了。</p> <p>即 <code>Perms( nums[0...n-1] ) = { 取出一个数字 } + Perms( nums[{0...n-1} - 这个数字] )</code></p> <p>递归体思路如下：</p> <ol><li>访问没有访问过的数字；</li> <li>加入该数字，设置 visited 访问标志，然后递归尝试其他数字；</li> <li>当所有数字都已经尝试完了，就输出一个结果；</li> <li>递归返回后，重置 visited，然后移除刚刚尝试的数字，继续回溯以不同顺序尝试其他情况；</li></ol> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> visited <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>
<span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token function">permute</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
	visited <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">)</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token keyword">var</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
		<span class="token function">help</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// tmp: 保存当前已经尝试了的数字</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 递归出口1：空数组</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> 
	<span class="token punctuation">}</span>

	<span class="token comment">// 递归出口2：tmp 长度跟 nums 一样</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		tmp1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token function">copy</span><span class="token punctuation">(</span>tmp1<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
		res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tmp1<span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 递归体：不断尝试没有访问过的数字</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
    
    <span class="token comment">// 只访问没有访问过的数字</span>
		<span class="token keyword">if</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">{</span>
      <span class="token comment">// 1. 设置访问标记</span>
			visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
			tmp <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>

      <span class="token comment">// 2. 递归尝试</span>
			<span class="token function">help</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>

      <span class="token comment">// 3. 还原，继续回溯尝试</span>
			visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
      tmp <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
  
	<span class="token keyword">return</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-47-permutations-ii"><a href="#leetcode-47-permutations-ii" class="header-anchor">#</a> Leetcode 47 Permutations ii</h3> <blockquote><p>https://leetcode.cn/problems/permutations-ii/</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/*
                    分析如下：
                    [1,1,2]
              1/      1|(之前有1了，去重)    \2
            [1,2]    [1,2]                [1,1]
            1/  \2                       1/   \1  (之前有1了，去重)
           [2]  [1]                     [1]
           2↓   1↓                      1↓
          112   121                     211

总结：
在堆回溯产生的多个树中，每个树进行层次遍历的时候，
每一层，不尝试 `相同的数字`，因为结果必然是相同的。
*/</span>
<span class="token keyword">class</span> <span class="token class-name">Solution</span> <span class="token punctuation">{</span>
    <span class="token comment">// 总结果</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> res <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 存放剩下的数字</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> numsList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 一种结果</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> oneRes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">permuteUnique</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>nums <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> nums<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> res<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token operator">:</span> nums<span class="token punctuation">)</span><span class="token punctuation">{</span>
            numsList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">dfs</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> res<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> nums<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//一种结果里面如果元素 = nums.length，说明已经满足条件了</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>oneRes<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> nums<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">{</span>
            res<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>oneRes<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//每一层去重</span>
        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//尝试当前层剩下的情况</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>numsList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">int</span> num <span class="token operator">=</span> numsList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//去重</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>set<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
                oneRes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
                numsList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//递归</span>
                <span class="token function">dfs</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//回溯</span>
                oneRes<span class="token punctuation">.</span><span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                numsList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="组合问题"><a href="#组合问题" class="header-anchor">#</a> 组合问题</h2> <h3 id="leetcode-77-combinations"><a href="#leetcode-77-combinations" class="header-anchor">#</a> Leetcode 77 Combinations</h3> <blockquote><p>https://leetcode.cn/problems/combinations/</p></blockquote> <p>组合问题，不在乎顺序，只要每个组合是不同的就可以了。</p> <p>本题手写一下分析过程后，思路就很明确了：</p> <p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h69z832dwpj21l00haq58.jpg" alt="image-20220917223525865"></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token function">combine</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> k <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    <span class="token function">help</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>tmp<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// n: 题目中的 n，即可取整数的范围</span>
<span class="token comment">// k: 要多少个数组合</span>
<span class="token comment">// start: 开始尝试的数</span>
<span class="token comment">// tmp: 当前组合</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> start <span class="token builtin">int</span><span class="token punctuation">,</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 递归出口：已经满足个数了</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">==</span> k <span class="token punctuation">{</span>
        tmp1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">copy</span><span class="token punctuation">(</span>tmp1<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
        res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tmp1<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 继续尝试</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span>start<span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token comment">// 加入当前值</span>
        tmp <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 尝试下一个值</span>
        <span class="token function">help</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> k<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
        <span class="token comment">// 回溯，继续尝试</span>
        tmp <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-39-combination-sum"><a href="#leetcode-39-combination-sum" class="header-anchor">#</a> Leetcode 39 Combination Sum</h3> <blockquote><p>https://leetcode.cn/problems/combination-sum/submissions/</p></blockquote> <p>本题也是经典的使用回溯来解决组合问题。我们先来关注题要点：</p> <ul><li>无重复的 candidates 中寻找数字，让 sum = target</li> <li>数字可以重复使用</li></ul> <p>递归出口比较好定义，关键是递归体的参数确定，我们定义 start 来遍历 candidates，start 指明本轮回溯的起始点。</p> <p>由于数字可以重复使用，所以尝试完当前数字后，start 不需要 + 1，即下面的 <code>help(candidates, i, target-n, tmp)</code>。</p> <p>又为了避免重复，所以 newStart &gt;= oldStart，不走回头路，即 <code>for i:=start; i&lt; len(candidates);i++</code>。</p> <p>具体实现如下：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token keyword">func</span> <span class="token function">combinationSum</span><span class="token punctuation">(</span>candidates <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> target <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    <span class="token function">help</span><span class="token punctuation">(</span>candidates<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> target<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// start: 开始尝试的下标</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>candidates <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> start<span class="token punctuation">,</span> target <span class="token builtin">int</span><span class="token punctuation">,</span> tmp<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 递归出口1：没找到</span>
    <span class="token keyword">if</span> target <span class="token operator">&lt;</span> <span class="token number">0</span>  <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 递归出口2：找到</span>
    <span class="token keyword">if</span> target <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        tmp1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">copy</span><span class="token punctuation">(</span>tmp1<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
        res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tmp1<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 继续从 start 开始尝试</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span>start<span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>candidates<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
        n <span class="token operator">:=</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token comment">// 1. 加入当前数</span>
        tmp <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
        <span class="token comment">// 当前的 n 还可以再重试</span>
        <span class="token comment">// 但是不回头，也就是 newStart &gt;= oldStart，避免重复</span>
        <span class="token comment">// 2. 尝试</span>
        <span class="token function">help</span><span class="token punctuation">(</span>candidates<span class="token punctuation">,</span> i<span class="token punctuation">,</span> target<span class="token operator">-</span>n<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
        <span class="token comment">// 3. 回溯，试下一个</span>
        tmp <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-40-combination-sum-ii"><a href="#leetcode-40-combination-sum-ii" class="header-anchor">#</a> Leetcode 40 Combination Sum II</h3> <blockquote><p>https://leetcode.cn/problems/combination-sum-ii/</p></blockquote> <p>本题相比 39 其实更好确定递归参数，本题要求数字不能重复使用（但是相等的数字在不同的位置的话，可以使用），所以在上题的基础上，<code>newStart = oldStart+1</code> 即可。</p> <p>但是题目给的 candidates 是乱序且有可能重复的，所以我们有两种思路：</p> <ol><li>然后在每一层遍历的时候加一个 map 来去重，参考 <strong>Leetcode 47 Permutations ii</strong>，思路很类似，效率较低；</li> <li>先对 candidates 进行排序，然后在尝试的时候，如果后一个跟前一个相同，就不尝试后一个，这样就不会重复了，效率较高。</li></ol> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token function">combinationSum2</span><span class="token punctuation">(</span>candidates <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> target <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    <span class="token comment">// 排序</span>
    sort<span class="token punctuation">.</span><span class="token function">Ints</span><span class="token punctuation">(</span>candidates<span class="token punctuation">)</span>
    <span class="token function">help</span><span class="token punctuation">(</span>candidates<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> target<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// start: 开始尝试的 candidates 的下标</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>candidates <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> start<span class="token punctuation">,</span> target <span class="token builtin">int</span><span class="token punctuation">,</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 递归出口1：没找到</span>
    <span class="token keyword">if</span> target <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> 
    <span class="token punctuation">}</span>

    <span class="token comment">// 递归出口2：找到</span>
    <span class="token keyword">if</span> target <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        tmp1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">copy</span><span class="token punctuation">(</span>tmp1<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
        res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tmp1<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> i<span class="token operator">:=</span>start<span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>candidates<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">{</span>
        <span class="token comment">// 去重</span>
        <span class="token keyword">if</span> i <span class="token operator">&gt;</span> start <span class="token operator">&amp;&amp;</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> candidates<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>
        n <span class="token operator">:=</span> candidates<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token comment">// 1. 加入当前数字</span>
        tmp <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> n<span class="token punctuation">)</span>
        <span class="token comment">// 2. 尝试</span>
        <span class="token function">help</span><span class="token punctuation">(</span>candidates<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> target<span class="token operator">-</span>n<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
        <span class="token comment">// 3. 回溯</span>
        tmp <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="leetcode-combination-sum-iii"><a href="#leetcode-combination-sum-iii" class="header-anchor">#</a> Leetcode Combination Sum III</h3> <blockquote><p>https://leetcode.cn/problems/combination-sum-iii/</p></blockquote> <p>思路与前面的 39,40 大同小异，主要关注递归出口，注意要刚好 k 个。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token function">combinationSum3</span><span class="token punctuation">(</span>k <span class="token builtin">int</span><span class="token punctuation">,</span> n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    <span class="token function">help</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> k<span class="token punctuation">,</span> n<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// start 开始尝试的数</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> k<span class="token punctuation">,</span> n <span class="token builtin">int</span><span class="token punctuation">,</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 递归出口1：没找到</span>
    <span class="token keyword">if</span> n <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 递归出口2：n 为 0</span>
    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span>  <span class="token punctuation">{</span>
        <span class="token comment">// 刚好 k 个</span>
        <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">==</span> k <span class="token punctuation">{</span>
            tmp1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token function">copy</span><span class="token punctuation">(</span>tmp1<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
            res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tmp1<span class="token punctuation">)</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 凑不够 k 个</span>
        <span class="token keyword">return</span> 
    <span class="token punctuation">}</span>

    <span class="token comment">// 递归出口3：超数了，没找着</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">&gt;=</span> k <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> i<span class="token operator">:=</span>start<span class="token punctuation">;</span> i<span class="token operator">&lt;=</span><span class="token number">9</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
        tmp <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
        <span class="token function">help</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span>n<span class="token operator">-</span>i<span class="token punctuation">,</span>tmp<span class="token punctuation">)</span>
        tmp <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-78-subsets"><a href="#leetcode-78-subsets" class="header-anchor">#</a> Leetcode 78 Subsets</h3> <blockquote><p>https://leetcode.cn/problems/subsets/</p></blockquote> <p>求子集，就不需要在递归出口处再将结果保存起来了，每一次尝试，当前的 tmp 都是一个子集。另外，要注意加上<strong>空集</strong>！</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token keyword">func</span> <span class="token function">subsets</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">var</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
  	<span class="token comment">// 空集也是子集之一</span>
    res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
    <span class="token function">help</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// start: 从 nums[start] 开始尝试寻找子集</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>nums <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> start <span class="token builtin">int</span><span class="token punctuation">,</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
    <span class="token comment">// 直接保存当前 tmp，因为它就是子集</span>
    <span class="token comment">// 然后再尝试其他的</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        tmp1 <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token function">copy</span><span class="token punctuation">(</span>tmp1<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
        res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> tmp1<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 递归出口</span>
    <span class="token keyword">if</span> start <span class="token operator">==</span> <span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> i<span class="token operator">:=</span>start<span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        tmp <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> nums<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token function">help</span><span class="token punctuation">(</span>nums<span class="token punctuation">,</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
        tmp <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-401-binary-watch"><a href="#leetcode-401-binary-watch" class="header-anchor">#</a> Leetcode 401 Binary Watch</h3> <blockquote><p>https://leetcode.cn/problems/binary-watch/</p></blockquote> <p>本题的思路也很简单，就是用回溯，尝试每一种符合条件的开灯情况，hour &lt; 12 &amp;&amp; min &lt; 60，递归出口就是刚好开足够 turnedOn 个灯。</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token keyword">var</span> values <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token keyword">func</span> <span class="token function">readBinaryWatch</span><span class="token punctuation">(</span>turnedOn <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span>
    <span class="token function">help</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> turnedOn<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// start: 开始扫描 values 的下标</span>
<span class="token comment">// left: 还有多少个灯没尝试</span>
<span class="token comment">// hour: 小时</span>
<span class="token comment">// min: 分钟</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> left<span class="token punctuation">,</span> hour<span class="token punctuation">,</span> min <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 递归出口1：尝试完 turnedOn 个灯了</span>
    <span class="token keyword">if</span> left <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        hs <span class="token operator">:=</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>hour<span class="token punctuation">)</span>
        ms <span class="token operator">:=</span> <span class="token string">&quot;&quot;</span>
        <span class="token keyword">if</span> min <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> min <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token punctuation">{</span>
            ms <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span> <span class="token operator">+</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            ms <span class="token operator">=</span> strconv<span class="token punctuation">.</span><span class="token function">Itoa</span><span class="token punctuation">(</span>min<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> hs <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> ms<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 递归出口2：start 已经超过 values 的范围了</span>
    <span class="token keyword">if</span> left <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> start <span class="token operator">&gt;=</span> <span class="token function">len</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> i<span class="token operator">:=</span>start<span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        v <span class="token operator">:=</span> values<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">if</span> i <span class="token operator">&lt;=</span> <span class="token number">3</span> <span class="token punctuation">{</span>
            <span class="token comment">// 小时</span>
            <span class="token keyword">if</span> v <span class="token operator">+</span> hour <span class="token operator">&lt;</span> <span class="token number">12</span> <span class="token punctuation">{</span>
                <span class="token function">help</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> v <span class="token operator">+</span> hour<span class="token punctuation">,</span> min<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 分钟</span>
            <span class="token keyword">if</span> v <span class="token operator">+</span> min <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token punctuation">{</span>
                <span class="token function">help</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> left<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> hour<span class="token punctuation">,</span> min <span class="token operator">+</span> v<span class="token punctuation">)</span>
            <span class="token punctuation">}</span> 
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="二维平面"><a href="#二维平面" class="header-anchor">#</a> 二维平面</h2> <p>二维平面的回溯，常见做法：</p> <ol><li>定义一个变量 <code>directs</code> 来保存上下左右四个方向；</li> <li>尝试所有起点；</li> <li>四个方向不断尝试；</li> <li>回溯；</li> <li>直到找到结果或者尝试完所有情况。</li></ol> <h3 id="leetcode-79-word-search"><a href="#leetcode-79-word-search" class="header-anchor">#</a> Leetcode 79 Word Search</h3> <blockquote><p>https://leetcode.cn/problems/word-search/</p></blockquote> <p>思路如上面总结的一样。</p> <p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h6guipn9paj208y06qq2y.jpg" alt="img"></p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> visited <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>
<span class="token keyword">var</span> directs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>
    <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token comment">// 左移</span>
    <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token comment">// 下移</span>
    <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>     <span class="token comment">// 右移</span>
    <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>     <span class="token comment">// 上移</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">exist</span><span class="token punctuation">(</span>board <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> word <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 一维是 j</span>
    <span class="token comment">// 二维是 i</span>

    <span class="token comment">// 初始化记录表</span>
    visited <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>visited<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 尝试每一个起点</span>
    <span class="token keyword">for</span> j<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">{</span>
        <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> board<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> word<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
                <span class="token keyword">continue</span>
            <span class="token punctuation">}</span>
            visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token keyword">if</span> <span class="token function">help</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token function">string</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> word<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
            visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>

<span class="token comment">// i: 开始尝试的横坐标</span>
<span class="token comment">// j: 开始尝试的纵坐标</span>
<span class="token comment">// 本题定义 [i,j] 已经在 tmp 中了</span>
<span class="token comment">// tmp: 中间结果</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>board <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">,</span> tmp<span class="token punctuation">,</span> word <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token comment">// 递归出口1：找到了</span>
    <span class="token keyword">if</span> tmp <span class="token operator">==</span> word <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// 继续往四个方向尝试</span>
    <span class="token keyword">for</span> k<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>directs<span class="token punctuation">)</span><span class="token punctuation">;</span>k<span class="token operator">++</span> <span class="token punctuation">{</span>
        direct <span class="token operator">:=</span> directs<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
        newI <span class="token operator">:=</span> i <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        newJ <span class="token operator">:=</span> j <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> newI <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> newI <span class="token operator">&gt;=</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> newJ <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> newJ <span class="token operator">&gt;=</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span>
        <span class="token punctuation">}</span>
      	
        <span class="token keyword">if</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> board<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">==</span> word<span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
            <span class="token comment">// 尝试</span>
            visited<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token keyword">if</span> <span class="token function">help</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> newI<span class="token punctuation">,</span> newJ<span class="token punctuation">,</span> tmp <span class="token operator">+</span> <span class="token function">string</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> word<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 找着了直接返回</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 没找着就继续尝试，回溯</span>
            visited<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-200-number-of-islands"><a href="#leetcode-200-number-of-islands" class="header-anchor">#</a> Leetcode 200 Number of Islands</h3> <blockquote><p>https://leetcode.cn/problems/number-of-islands/</p></blockquote> <p>思路：</p> <ol><li>每寻找到一个没访问过的 <code>1</code>，就以它为起点，就把它能连接到的 <code>1</code> 全部访问一遍；（其实就是 DFS）</li> <li>这样遍历完 grid，就知道有多少个 island 了。</li></ol> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> res <span class="token builtin">int</span>
<span class="token keyword">var</span> directs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>
    <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> visited <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>

<span class="token keyword">func</span> <span class="token function">numIslands</span><span class="token punctuation">(</span>grid <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span> <span class="token builtin">int</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>

    res <span class="token operator">=</span> <span class="token number">0</span>

    <span class="token comment">// 初始化访问表</span>
    visited <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
        visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 寻找 '1'，并尝试找其所在的岛屿</span>
    <span class="token keyword">for</span> j<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> grid<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'1'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">{</span>
                visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                <span class="token function">help</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
              	<span class="token comment">// 当前岛屿已经遍历完了，加1，然后尝试找下一个岛屿</span>
                res <span class="token operator">++</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> res
    
<span class="token punctuation">}</span>

<span class="token comment">// 将跟 [i,j] 相连的的 '1' 的 visited 全部置为 true</span>
<span class="token comment">// 其实就是 DFS</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>grid <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> k<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>directs<span class="token punctuation">)</span><span class="token punctuation">;</span>k<span class="token operator">++</span> <span class="token punctuation">{</span>
        direct <span class="token operator">:=</span> directs<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
        newI <span class="token operator">:=</span> i <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        newJ <span class="token operator">:=</span> j <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> newI <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newI <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> 
            newJ <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newJ <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> 
            <span class="token operator">!</span>visited<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> grid<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'1'</span><span class="token punctuation">{</span>

            visited<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token function">help</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> newI<span class="token punctuation">,</span> newJ<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-130-surrounded-regions"><a href="#leetcode-130-surrounded-regions" class="header-anchor">#</a> Leetcode 130 Surrounded Regions</h3> <blockquote><p>https://leetcode.cn/problems/surrounded-regions/</p></blockquote> <p>被围绕的区间不会存在于边界上，换句话说，任何边界上的 'O' 都不会被填充为 'X'。 任何不在边界上，或不与边界上的 'O' 相连的 'O' 最终都会被填充为 'X'。如果两个元素在水平或垂直方向相邻，则称它们是“相连”的。</p> <p>本题可以使用逆向思维：</p> <ol><li>从边缘的 <code>O</code> 出发，将它能连接到的 <code>O</code> 全部标记位 visited；</li> <li>DFS 所有边缘的 <code>O</code> 后，剩下的 !visited，要么就是 <code>X</code>，要么就是被 <code>X</code> 包围的 <code>O</code></li></ol> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> visited <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>
<span class="token keyword">var</span> directs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">solve</span><span class="token punctuation">(</span>board <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 初始化 visited</span>
    visited <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">{</span>
        visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 从边缘的 O 出发</span>
    <span class="token keyword">for</span> j<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span> <span class="token punctuation">{</span>

        <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>

            <span class="token keyword">if</span> j <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> j <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> board<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'O'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">{</span>
                    visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                    <span class="token function">dfs</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> i <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> i <span class="token operator">==</span> <span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">if</span> board<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'O'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">{</span>
                        visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                        <span class="token function">dfs</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j<span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> 
            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 现在所有没访问过的，就是 X 和被 X 包围的 O</span>
    <span class="token keyword">for</span> j<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>visited<span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>visited<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">{</span>
                board<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'X'</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// 从边缘的 `O` 出发，将所有能连接到的 `O` 全部访问</span>
<span class="token keyword">func</span> <span class="token function">dfs</span><span class="token punctuation">(</span>board <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">byte</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> k<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>directs<span class="token punctuation">)</span><span class="token punctuation">;</span>k<span class="token operator">++</span> <span class="token punctuation">{</span>
        direct <span class="token operator">:=</span> directs<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
        newI <span class="token operator">:=</span> i <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        newJ <span class="token operator">:=</span> j <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> newI <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newJ <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
            newI <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> newJ <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
            board<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'O'</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token punctuation">{</span>

            visited<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
            <span class="token function">dfs</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> newI<span class="token punctuation">,</span> newJ<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-417-pacific-atlantic-water-flow"><a href="#leetcode-417-pacific-atlantic-water-flow" class="header-anchor">#</a> Leetcode 417 Pacific Atlantic Water Flow</h3> <blockquote><p>https://leetcode.cn/problems/pacific-atlantic-water-flow/</p></blockquote> <p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h6guk0wll3j20fx0fxmy7.jpg" alt="img"></p> <p>本题核心意思：水只能从高处往低处流，找既能流到大西洋也能流到太平洋的坐标。</p> <p>思路：逆向思维</p> <ol><li>从太平洋边界出发，逆流而上，看看哪些点可以到太平洋；</li> <li>从大西洋边界出发，逆流而上，看看哪些点可以到大西洋；</li> <li>取交集，便是答案。</li></ol> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
<span class="token keyword">var</span> directs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> visited1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>       <span class="token comment">// 太平洋</span>
<span class="token keyword">var</span> can1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>           <span class="token comment">// 能到太平洋的</span>
<span class="token keyword">var</span> visited2 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>       <span class="token comment">// 大西洋</span>
<span class="token keyword">var</span> can2 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>           <span class="token comment">// 能到大西洋的</span>

<span class="token keyword">func</span> <span class="token function">pacificAtlantic</span><span class="token punctuation">(</span>heights <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span> <span class="token punctuation">{</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
		
  	<span class="token comment">// 初始化</span>
    visited1 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token punctuation">)</span>
    visited2 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token punctuation">)</span>
    can1 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token punctuation">)</span>
    can2 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
        visited1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        visited2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        can1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        can2<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 上边界</span>
    <span class="token keyword">for</span> p<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>p<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">++</span> <span class="token punctuation">{</span>
        can1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        visited1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token function">pacific</span><span class="token punctuation">(</span>heights<span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 左边界</span>
    <span class="token keyword">for</span> p<span class="token operator">:=</span><span class="token number">1</span><span class="token punctuation">;</span>p<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">++</span> <span class="token punctuation">{</span>
        can1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        visited1<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token function">pacific</span><span class="token punctuation">(</span>heights<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 下边界</span>
    <span class="token keyword">for</span> p<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>p<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>p<span class="token operator">++</span> <span class="token punctuation">{</span>
        can2<span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        visited2<span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>p<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token function">atlantic</span><span class="token punctuation">(</span>heights<span class="token punctuation">,</span> p<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 右边界</span>
    <span class="token keyword">for</span> p<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>p<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>p<span class="token operator">++</span> <span class="token punctuation">{</span>
        can2<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        visited2<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
        <span class="token function">atlantic</span><span class="token punctuation">(</span>heights<span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
		
  	<span class="token comment">// 取交集</span>
    <span class="token keyword">for</span> j<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> can1<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> can2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">{</span>
                res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">{</span>j<span class="token punctuation">,</span> i<span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// 逆流而上，看看哪些能流到太平洋</span>
<span class="token keyword">func</span> <span class="token function">pacific</span><span class="token punctuation">(</span>heights <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  	<span class="token comment">// 向四个方向走</span>
    <span class="token keyword">for</span> k<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>directs<span class="token punctuation">)</span><span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">{</span>
        direct <span class="token operator">:=</span> directs<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
        newI <span class="token operator">:=</span> i <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        newJ <span class="token operator">:=</span> j <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
				
        <span class="token keyword">if</span> newI <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newI <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
            newJ <span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newJ <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited1<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span><span class="token punctuation">{</span>
              
            <span class="token comment">// 逆流而上</span>
            <span class="token keyword">if</span> heights<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> heights<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">{</span>
                visited1<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                can1<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                <span class="token function">pacific</span><span class="token punctuation">(</span>heights<span class="token punctuation">,</span> newI<span class="token punctuation">,</span> newJ<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 逆流而上，看看哪些能流到大西洋</span>
<span class="token keyword">func</span> <span class="token function">atlantic</span><span class="token punctuation">(</span>heights <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  
  	<span class="token comment">// 向四个方向走</span>
    <span class="token keyword">for</span> k<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>k<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>directs<span class="token punctuation">)</span><span class="token punctuation">;</span>k<span class="token operator">++</span><span class="token punctuation">{</span>
        direct <span class="token operator">:=</span> directs<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
        newI <span class="token operator">:=</span> i <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
        newJ <span class="token operator">:=</span> j <span class="token operator">+</span> direct<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
				
        <span class="token keyword">if</span> newI <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newI <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
            newJ <span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> newJ <span class="token operator">&lt;</span> <span class="token function">len</span><span class="token punctuation">(</span>heights<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>visited2<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span><span class="token punctuation">{</span>
              
            <span class="token comment">// 逆流而上</span>
            <span class="token keyword">if</span> heights<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> heights<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">{</span>
                visited2<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                can2<span class="token punctuation">[</span>newJ<span class="token punctuation">]</span><span class="token punctuation">[</span>newI<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
                <span class="token function">atlantic</span><span class="token punctuation">(</span>heights<span class="token punctuation">,</span> newI<span class="token punctuation">,</span> newJ<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="leetcode-51-n-queens"><a href="#leetcode-51-n-queens" class="header-anchor">#</a> Leetcode 51 N Queens</h3> <blockquote><p>https://leetcode.cn/problems/n-queens/</p></blockquote> <p><img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h6gx213xnsj20k208ydga.jpg" alt="img"></p> <h3 id="leetcode-n-queens"><a href="#leetcode-n-queens" class="header-anchor">#</a> Leetcode N Queens</h3> <blockquote><p>https://leetcode.cn/problems/n-queens/</p></blockquote> <p>核心点是如何快速判断不合法的情况：</p> <ol><li><p>col[i] 表示第 i 列已经被占用。</p></li> <li><p>dia1[k] 表示从左下到右上的对角线已经被占用，观察左下到右上的对角线会发现有特点：<code>j+i</code> 为定值，且有 2n-1 个对角线。</p> <img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h6ja3fktsrj20vu0u0jvg.jpg" alt="image-20220925234138110" style="zoom:33%;"></li> <li><p>dia2[k] 表示从左上到右下的对角线已经被占用，观察左上到右下对角线会发现有特点：i-j 为定值，且有 2n-1  个对角线，如果转为非负数，那便是 <code>j-i+n-1</code></p> <img src="https://tva1.sinaimg.cn/large/e6c9d24egy1h6ja4vzd0mj20yk0tmjvf.jpg" alt="image-20220925234302218" style="zoom:33%;"></li></ol> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">var</span> col <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>   <span class="token comment">// 第 i 列已经被占用了</span>
<span class="token keyword">var</span> dia1 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>  <span class="token comment">// 第 i 个左下到右上对角线已经被占用</span>
<span class="token keyword">var</span> dia2 <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span>  <span class="token comment">// 第 i 个左上到右下对角线已经被占用</span>
<span class="token keyword">var</span> res <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>
<span class="token keyword">func</span> <span class="token function">solveNQueens</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> n <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">nil</span>
    <span class="token punctuation">}</span>
    col <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span>
    dia1 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    dia2 <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">bool</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
    res <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

    <span class="token keyword">var</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span>
    <span class="token function">help</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>

    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// curLine: 尝试第几行</span>
<span class="token keyword">func</span> <span class="token function">help</span><span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> curLine <span class="token builtin">int</span><span class="token punctuation">,</span> tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// 递归出口，n 个皇后都已经置放完毕</span>
    <span class="token keyword">if</span> curLine <span class="token operator">==</span> n <span class="token punctuation">{</span>
        res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> <span class="token function">build</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> 
    <span class="token punctuation">}</span>

    <span class="token comment">// 尝试当前行的每一种可能</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token function">canUse</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> curLine<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 尝试</span>
            col<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
            dia1<span class="token punctuation">[</span>curLine<span class="token operator">+</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
            dia2<span class="token punctuation">[</span>curLine<span class="token operator">-</span>i<span class="token operator">+</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>
            tmp <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>tmp<span class="token punctuation">,</span> i<span class="token punctuation">)</span>
            <span class="token comment">// 递归尝试</span>
            <span class="token function">help</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> curLine <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> tmp<span class="token punctuation">)</span>
            <span class="token comment">// 回溯</span>
            col<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
            dia1<span class="token punctuation">[</span>curLine<span class="token operator">+</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
            dia2<span class="token punctuation">[</span>curLine<span class="token operator">-</span>i<span class="token operator">+</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>
            tmp <span class="token operator">=</span> tmp<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">// 将一个 tmp 转为 n 皇后结果</span>
<span class="token keyword">func</span> <span class="token function">build</span><span class="token punctuation">(</span>tmp <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token punctuation">{</span>
    res <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span> <span class="token punctuation">{</span>
        s <span class="token operator">:=</span> <span class="token string">&quot;&quot;</span>
        val <span class="token operator">:=</span> tmp<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
        <span class="token keyword">for</span> j<span class="token operator">:=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>val<span class="token punctuation">;</span>j<span class="token operator">++</span> <span class="token punctuation">{</span>
            s <span class="token operator">+=</span> <span class="token string">&quot;.&quot;</span>
        <span class="token punctuation">}</span>
        s <span class="token operator">+=</span> <span class="token string">&quot;Q&quot;</span>
        <span class="token keyword">for</span> j<span class="token operator">:=</span>val<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span><span class="token function">len</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span><span class="token punctuation">;</span>j<span class="token operator">++</span> <span class="token punctuation">{</span>
            s <span class="token operator">+=</span> <span class="token string">&quot;.&quot;</span>
        <span class="token punctuation">}</span>
        res <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> s<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// 判断该位置是否可用</span>
<span class="token keyword">func</span> <span class="token function">canUse</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> n <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">!</span>col<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>dia1<span class="token punctuation">[</span>j<span class="token operator">+</span>i<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>dia2<span class="token punctuation">[</span>j<span class="token operator">-</span>i<span class="token operator">+</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9/26/2022, 12:18:16 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/noteSite/leetcode/binaryTree.html" class="prev">
        二叉树
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/noteSite/assets/js/app.01a49d84.js" defer></script><script src="/noteSite/assets/js/2.6ff1f0ac.js" defer></script><script src="/noteSite/assets/js/244.61dcb355.js" defer></script>
  </body>
</html>
