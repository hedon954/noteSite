<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaSE —— IO | Hedon</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/noteSite/favicon.ico">
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/noteSite/assets/css/0.styles.0f3b0cbd.css" as="style"><link rel="preload" href="/noteSite/assets/js/app.5a5619ad.js" as="script"><link rel="preload" href="/noteSite/assets/js/2.691adf44.js" as="script"><link rel="preload" href="/noteSite/assets/js/42.b2e49d19.js" as="script"><link rel="prefetch" href="/noteSite/assets/js/10.0ef4d6cc.js"><link rel="prefetch" href="/noteSite/assets/js/100.bff68cfa.js"><link rel="prefetch" href="/noteSite/assets/js/101.0644f793.js"><link rel="prefetch" href="/noteSite/assets/js/102.2031b781.js"><link rel="prefetch" href="/noteSite/assets/js/103.29e79af9.js"><link rel="prefetch" href="/noteSite/assets/js/104.00445843.js"><link rel="prefetch" href="/noteSite/assets/js/105.aaa855cf.js"><link rel="prefetch" href="/noteSite/assets/js/106.dfcfdffe.js"><link rel="prefetch" href="/noteSite/assets/js/107.c4b003ff.js"><link rel="prefetch" href="/noteSite/assets/js/108.a04e1274.js"><link rel="prefetch" href="/noteSite/assets/js/109.86350d95.js"><link rel="prefetch" href="/noteSite/assets/js/11.6519a007.js"><link rel="prefetch" href="/noteSite/assets/js/110.eae6fa5c.js"><link rel="prefetch" href="/noteSite/assets/js/111.6d50372d.js"><link rel="prefetch" href="/noteSite/assets/js/112.1af8b374.js"><link rel="prefetch" href="/noteSite/assets/js/113.aebe1098.js"><link rel="prefetch" href="/noteSite/assets/js/114.e3be6524.js"><link rel="prefetch" href="/noteSite/assets/js/115.7767930b.js"><link rel="prefetch" href="/noteSite/assets/js/116.730d2222.js"><link rel="prefetch" href="/noteSite/assets/js/117.1356730f.js"><link rel="prefetch" href="/noteSite/assets/js/118.d1e73baf.js"><link rel="prefetch" href="/noteSite/assets/js/119.b443ecfb.js"><link rel="prefetch" href="/noteSite/assets/js/12.18d29461.js"><link rel="prefetch" href="/noteSite/assets/js/120.29935d13.js"><link rel="prefetch" href="/noteSite/assets/js/121.7e883a48.js"><link rel="prefetch" href="/noteSite/assets/js/122.12399cf4.js"><link rel="prefetch" href="/noteSite/assets/js/123.408d3a1f.js"><link rel="prefetch" href="/noteSite/assets/js/124.d3ae069d.js"><link rel="prefetch" href="/noteSite/assets/js/125.b78894ec.js"><link rel="prefetch" href="/noteSite/assets/js/126.faa46840.js"><link rel="prefetch" href="/noteSite/assets/js/127.731a0ae5.js"><link rel="prefetch" href="/noteSite/assets/js/128.bd2e5143.js"><link rel="prefetch" href="/noteSite/assets/js/129.362b388a.js"><link rel="prefetch" href="/noteSite/assets/js/13.08211613.js"><link rel="prefetch" href="/noteSite/assets/js/130.98048a61.js"><link rel="prefetch" href="/noteSite/assets/js/131.408f0f1c.js"><link rel="prefetch" href="/noteSite/assets/js/132.4c10d461.js"><link rel="prefetch" href="/noteSite/assets/js/133.2e3a7fcc.js"><link rel="prefetch" href="/noteSite/assets/js/134.20c1b987.js"><link rel="prefetch" href="/noteSite/assets/js/135.23a9af3c.js"><link rel="prefetch" href="/noteSite/assets/js/136.e8a5f022.js"><link rel="prefetch" href="/noteSite/assets/js/137.b18d2274.js"><link rel="prefetch" href="/noteSite/assets/js/138.72dccd6b.js"><link rel="prefetch" href="/noteSite/assets/js/139.e6bf41d4.js"><link rel="prefetch" href="/noteSite/assets/js/14.30ba19fb.js"><link rel="prefetch" href="/noteSite/assets/js/140.03536842.js"><link rel="prefetch" href="/noteSite/assets/js/141.446beb81.js"><link rel="prefetch" href="/noteSite/assets/js/142.9cdee3b8.js"><link rel="prefetch" href="/noteSite/assets/js/143.c31d0fab.js"><link rel="prefetch" href="/noteSite/assets/js/144.1609c5eb.js"><link rel="prefetch" href="/noteSite/assets/js/145.6a7e72c5.js"><link rel="prefetch" href="/noteSite/assets/js/146.1971f451.js"><link rel="prefetch" href="/noteSite/assets/js/147.f8f3d3e8.js"><link rel="prefetch" href="/noteSite/assets/js/148.2cabdc3d.js"><link rel="prefetch" href="/noteSite/assets/js/149.414c0a0f.js"><link rel="prefetch" href="/noteSite/assets/js/15.d07ec6b9.js"><link rel="prefetch" href="/noteSite/assets/js/150.f88d27fe.js"><link rel="prefetch" href="/noteSite/assets/js/151.3efb6acf.js"><link rel="prefetch" href="/noteSite/assets/js/152.c49e8aa1.js"><link rel="prefetch" href="/noteSite/assets/js/153.89df57e2.js"><link rel="prefetch" href="/noteSite/assets/js/154.27241ad0.js"><link rel="prefetch" href="/noteSite/assets/js/155.ca040bbe.js"><link rel="prefetch" href="/noteSite/assets/js/156.bf4b03cd.js"><link rel="prefetch" href="/noteSite/assets/js/157.1f979d7c.js"><link rel="prefetch" href="/noteSite/assets/js/158.ccae01a2.js"><link rel="prefetch" href="/noteSite/assets/js/159.fdf8dda0.js"><link rel="prefetch" href="/noteSite/assets/js/16.0fc71827.js"><link rel="prefetch" href="/noteSite/assets/js/160.37774f9d.js"><link rel="prefetch" href="/noteSite/assets/js/161.a54bae9b.js"><link rel="prefetch" href="/noteSite/assets/js/162.3721c695.js"><link rel="prefetch" href="/noteSite/assets/js/163.28c00a7f.js"><link rel="prefetch" href="/noteSite/assets/js/164.b48acd13.js"><link rel="prefetch" href="/noteSite/assets/js/165.4a5a643a.js"><link rel="prefetch" href="/noteSite/assets/js/166.0a1b96a3.js"><link rel="prefetch" href="/noteSite/assets/js/167.b748328a.js"><link rel="prefetch" href="/noteSite/assets/js/168.d5b26ee8.js"><link rel="prefetch" href="/noteSite/assets/js/169.61c00554.js"><link rel="prefetch" href="/noteSite/assets/js/17.e1f8763b.js"><link rel="prefetch" href="/noteSite/assets/js/170.041ef3c5.js"><link rel="prefetch" href="/noteSite/assets/js/171.452bc743.js"><link rel="prefetch" href="/noteSite/assets/js/172.bee54cbc.js"><link rel="prefetch" href="/noteSite/assets/js/173.b133d127.js"><link rel="prefetch" href="/noteSite/assets/js/174.8c0fa711.js"><link rel="prefetch" href="/noteSite/assets/js/175.c065437d.js"><link rel="prefetch" href="/noteSite/assets/js/176.1cdbd506.js"><link rel="prefetch" href="/noteSite/assets/js/177.fde443f6.js"><link rel="prefetch" href="/noteSite/assets/js/178.8456a78e.js"><link rel="prefetch" href="/noteSite/assets/js/179.23e9ef6c.js"><link rel="prefetch" href="/noteSite/assets/js/18.bf77fb22.js"><link rel="prefetch" href="/noteSite/assets/js/180.1cff3e65.js"><link rel="prefetch" href="/noteSite/assets/js/181.055a560a.js"><link rel="prefetch" href="/noteSite/assets/js/182.4f9f27de.js"><link rel="prefetch" href="/noteSite/assets/js/183.a97f82e0.js"><link rel="prefetch" href="/noteSite/assets/js/184.074a6fab.js"><link rel="prefetch" href="/noteSite/assets/js/185.be170a40.js"><link rel="prefetch" href="/noteSite/assets/js/186.9ed6f324.js"><link rel="prefetch" href="/noteSite/assets/js/187.5a1cb3b6.js"><link rel="prefetch" href="/noteSite/assets/js/188.dc1dd2cc.js"><link rel="prefetch" href="/noteSite/assets/js/189.1e3efa3b.js"><link rel="prefetch" href="/noteSite/assets/js/19.a900d7ee.js"><link rel="prefetch" href="/noteSite/assets/js/190.c2fc9b95.js"><link rel="prefetch" href="/noteSite/assets/js/191.7e7576a2.js"><link rel="prefetch" href="/noteSite/assets/js/192.feb3b829.js"><link rel="prefetch" href="/noteSite/assets/js/193.b993ed5e.js"><link rel="prefetch" href="/noteSite/assets/js/194.5db6e351.js"><link rel="prefetch" href="/noteSite/assets/js/195.a17b1e60.js"><link rel="prefetch" href="/noteSite/assets/js/196.a81bb1aa.js"><link rel="prefetch" href="/noteSite/assets/js/197.b1d73c8a.js"><link rel="prefetch" href="/noteSite/assets/js/198.1a27347c.js"><link rel="prefetch" href="/noteSite/assets/js/199.a242d5e7.js"><link rel="prefetch" href="/noteSite/assets/js/20.172f3ffd.js"><link rel="prefetch" href="/noteSite/assets/js/200.84eeffcb.js"><link rel="prefetch" href="/noteSite/assets/js/201.70ea1f2a.js"><link rel="prefetch" href="/noteSite/assets/js/202.8a927898.js"><link rel="prefetch" href="/noteSite/assets/js/203.1f1891f9.js"><link rel="prefetch" href="/noteSite/assets/js/204.7ef8ee18.js"><link rel="prefetch" href="/noteSite/assets/js/21.86607ab3.js"><link rel="prefetch" href="/noteSite/assets/js/22.441bc82c.js"><link rel="prefetch" href="/noteSite/assets/js/23.dedac39c.js"><link rel="prefetch" href="/noteSite/assets/js/24.833a668b.js"><link rel="prefetch" href="/noteSite/assets/js/25.09fae025.js"><link rel="prefetch" href="/noteSite/assets/js/26.132c8d10.js"><link rel="prefetch" href="/noteSite/assets/js/27.f539720c.js"><link rel="prefetch" href="/noteSite/assets/js/28.a662f3da.js"><link rel="prefetch" href="/noteSite/assets/js/29.9ffd706d.js"><link rel="prefetch" href="/noteSite/assets/js/3.f0bd1d3d.js"><link rel="prefetch" href="/noteSite/assets/js/30.5ad30292.js"><link rel="prefetch" href="/noteSite/assets/js/31.4612eb08.js"><link rel="prefetch" href="/noteSite/assets/js/32.c7b09847.js"><link rel="prefetch" href="/noteSite/assets/js/33.b228dc38.js"><link rel="prefetch" href="/noteSite/assets/js/34.8bea339f.js"><link rel="prefetch" href="/noteSite/assets/js/35.8b6e290f.js"><link rel="prefetch" href="/noteSite/assets/js/36.afec7024.js"><link rel="prefetch" href="/noteSite/assets/js/37.a7df96cd.js"><link rel="prefetch" href="/noteSite/assets/js/38.5e902c68.js"><link rel="prefetch" href="/noteSite/assets/js/39.f70b28cd.js"><link rel="prefetch" href="/noteSite/assets/js/4.a61e4cea.js"><link rel="prefetch" href="/noteSite/assets/js/40.ad6358f6.js"><link rel="prefetch" href="/noteSite/assets/js/41.edc1ac35.js"><link rel="prefetch" href="/noteSite/assets/js/43.91fab995.js"><link rel="prefetch" href="/noteSite/assets/js/44.5d50e476.js"><link rel="prefetch" href="/noteSite/assets/js/45.9cc78c82.js"><link rel="prefetch" href="/noteSite/assets/js/46.5d413aef.js"><link rel="prefetch" href="/noteSite/assets/js/47.5bfff6e6.js"><link rel="prefetch" href="/noteSite/assets/js/48.4c140d1a.js"><link rel="prefetch" href="/noteSite/assets/js/49.cb6a7d2d.js"><link rel="prefetch" href="/noteSite/assets/js/5.2bccd6df.js"><link rel="prefetch" href="/noteSite/assets/js/50.d980022a.js"><link rel="prefetch" href="/noteSite/assets/js/51.1f20694e.js"><link rel="prefetch" href="/noteSite/assets/js/52.4f2d9e2c.js"><link rel="prefetch" href="/noteSite/assets/js/53.999a82be.js"><link rel="prefetch" href="/noteSite/assets/js/54.0c8c8621.js"><link rel="prefetch" href="/noteSite/assets/js/55.de2e1d4e.js"><link rel="prefetch" href="/noteSite/assets/js/56.c2916121.js"><link rel="prefetch" href="/noteSite/assets/js/57.6d7c3ad5.js"><link rel="prefetch" href="/noteSite/assets/js/58.3595cac4.js"><link rel="prefetch" href="/noteSite/assets/js/59.18748e2f.js"><link rel="prefetch" href="/noteSite/assets/js/6.f3d86aa7.js"><link rel="prefetch" href="/noteSite/assets/js/60.61d102b0.js"><link rel="prefetch" href="/noteSite/assets/js/61.4159e361.js"><link rel="prefetch" href="/noteSite/assets/js/62.208ab04e.js"><link rel="prefetch" href="/noteSite/assets/js/63.8e1cfd74.js"><link rel="prefetch" href="/noteSite/assets/js/64.b4f28835.js"><link rel="prefetch" href="/noteSite/assets/js/65.6fccd2ec.js"><link rel="prefetch" href="/noteSite/assets/js/66.fe5b1009.js"><link rel="prefetch" href="/noteSite/assets/js/67.78fbf046.js"><link rel="prefetch" href="/noteSite/assets/js/68.e2db3abe.js"><link rel="prefetch" href="/noteSite/assets/js/69.3ee07814.js"><link rel="prefetch" href="/noteSite/assets/js/7.da9921ea.js"><link rel="prefetch" href="/noteSite/assets/js/70.18febda7.js"><link rel="prefetch" href="/noteSite/assets/js/71.5ccf6473.js"><link rel="prefetch" href="/noteSite/assets/js/72.1c5c3a9a.js"><link rel="prefetch" href="/noteSite/assets/js/73.61831cac.js"><link rel="prefetch" href="/noteSite/assets/js/74.4bc19442.js"><link rel="prefetch" href="/noteSite/assets/js/75.16e92168.js"><link rel="prefetch" href="/noteSite/assets/js/76.86937257.js"><link rel="prefetch" href="/noteSite/assets/js/77.6b3d3862.js"><link rel="prefetch" href="/noteSite/assets/js/78.53b0d147.js"><link rel="prefetch" href="/noteSite/assets/js/79.347bf69c.js"><link rel="prefetch" href="/noteSite/assets/js/8.8a4cb7ae.js"><link rel="prefetch" href="/noteSite/assets/js/80.c4848ce7.js"><link rel="prefetch" href="/noteSite/assets/js/81.f0717e96.js"><link rel="prefetch" href="/noteSite/assets/js/82.a18fc1c6.js"><link rel="prefetch" href="/noteSite/assets/js/83.6f96d2ba.js"><link rel="prefetch" href="/noteSite/assets/js/84.0b403059.js"><link rel="prefetch" href="/noteSite/assets/js/85.5475bcdd.js"><link rel="prefetch" href="/noteSite/assets/js/86.ca606155.js"><link rel="prefetch" href="/noteSite/assets/js/87.f74acc46.js"><link rel="prefetch" href="/noteSite/assets/js/88.2809016f.js"><link rel="prefetch" href="/noteSite/assets/js/89.9fb22811.js"><link rel="prefetch" href="/noteSite/assets/js/9.566352fa.js"><link rel="prefetch" href="/noteSite/assets/js/90.71522c86.js"><link rel="prefetch" href="/noteSite/assets/js/91.55888615.js"><link rel="prefetch" href="/noteSite/assets/js/92.27441bd6.js"><link rel="prefetch" href="/noteSite/assets/js/93.1131eac4.js"><link rel="prefetch" href="/noteSite/assets/js/94.64807676.js"><link rel="prefetch" href="/noteSite/assets/js/95.da9d8ee9.js"><link rel="prefetch" href="/noteSite/assets/js/96.57817733.js"><link rel="prefetch" href="/noteSite/assets/js/97.6463eafb.js"><link rel="prefetch" href="/noteSite/assets/js/98.edc7f165.js"><link rel="prefetch" href="/noteSite/assets/js/99.76d21802.js">
    <link rel="stylesheet" href="/noteSite/assets/css/0.styles.0f3b0cbd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/noteSite/" class="home-link router-link-active"><img src="/noteSite/images/hedon.png" alt="Hedon" class="logo"> <span class="site-name can-hide">Hedon</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/noteSite/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/noteSite/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS Menu" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="CS Menu" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/noteSite/cs/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/os/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/cn/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/component/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/noteSite/backend/java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/golang/" class="nav-link">
  Golang
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/go-full/" class="nav-link">
  Go 开发工程师
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/middleware/" class="nav-link">
  中间件
</a></li></ul></div></div><div class="nav-item"><a href="/noteSite/frontend/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/noteSite/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/noteSite/mac/" class="nav-link">
  Mac
</a></div><div class="nav-item"><a href="/noteSite/leetcode/" class="nav-link">
  Leetcode
</a></div><div class="nav-item"><a href="/noteSite/paper/" class="nav-link">
  Paper
</a></div><div class="nav-item"><a href="https://github.com/hedon954/noteSite" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/noteSite/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/noteSite/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="CS Menu" class="dropdown-title"><span class="title">计算机基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="CS Menu" class="mobile-dropdown-title"><span class="title">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/noteSite/cs/mysql/" class="nav-link">
  MySQL
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/os/" class="nav-link">
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/cn/" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/cs/component/" class="nav-link">
  计算机组成原理
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Backend Menu" class="dropdown-title"><span class="title">后端</span> <span class="arrow down"></span></button> <button type="button" aria-label="Backend Menu" class="mobile-dropdown-title"><span class="title">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/noteSite/backend/java/" class="nav-link router-link-active">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/golang/" class="nav-link">
  Golang
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/go-full/" class="nav-link">
  Go 开发工程师
</a></li><li class="dropdown-item"><!----> <a href="/noteSite/backend/middleware/" class="nav-link">
  中间件
</a></li></ul></div></div><div class="nav-item"><a href="/noteSite/frontend/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/noteSite/linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/noteSite/mac/" class="nav-link">
  Mac
</a></div><div class="nav-item"><a href="/noteSite/leetcode/" class="nav-link">
  Leetcode
</a></div><div class="nav-item"><a href="/noteSite/paper/" class="nav-link">
  Paper
</a></div><div class="nav-item"><a href="https://github.com/hedon954/noteSite" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java 常用类</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java 高级特性</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/noteSite/backend/java/high/file.html" class="sidebar-link">JavaSE —— File 类</a></li><li><a href="/noteSite/backend/java/high/io.html" aria-current="page" class="active sidebar-link">JavaSE —— IO</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_1-原理" class="sidebar-link">1. 原理</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_2-分类" class="sidebar-link">2. 分类</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_3-流体系" class="sidebar-link">3. 流体系</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_4-四个抽象基类" class="sidebar-link">4. 四个抽象基类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#inputstream" class="sidebar-link">InputStream</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#reader" class="sidebar-link">Reader</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#outputstream" class="sidebar-link">OutputStream</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#writer" class="sidebar-link">Writer</a></li></ul></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_5-节点流-文件流" class="sidebar-link">5. 节点流（文件流）</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_6-缓冲流" class="sidebar-link">6. 缓冲流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_6-1-作用" class="sidebar-link">6.1 作用</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_6-2-分类" class="sidebar-link">6.2 分类</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_6-3-原理" class="sidebar-link">6.3 原理</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_6-4-示例" class="sidebar-link">6.4 示例</a></li></ul></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_7-转换流" class="sidebar-link">7. 转换流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#inputstreamreader" class="sidebar-link">InputStreamReader</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#outputstreamwriter" class="sidebar-link">OutputStreamWriter</a></li></ul></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_8-标准流" class="sidebar-link">8. 标准流</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_9-打印流" class="sidebar-link">9. 打印流</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_10-数据流" class="sidebar-link">10. 数据流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#datainputstream" class="sidebar-link">DataInputStream</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#dataoutputstream" class="sidebar-link">DataOutputStream</a></li></ul></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_11-对象流" class="sidebar-link">11. 对象流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_11-1-作用" class="sidebar-link">11.1 作用</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_11-2-序列化-反序列化" class="sidebar-link">11.2 序列化/反序列化</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_11-3-对象的序列化" class="sidebar-link">11.3 对象的序列化</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_11-4-使用" class="sidebar-link">11.4 使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_12-随机存取文件流" class="sidebar-link">12. 随机存取文件流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_12-1-作用" class="sidebar-link">12.1 作用</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_12-2-构造器" class="sidebar-link">12.2 构造器</a></li><li class="sidebar-sub-header"><a href="/noteSite/backend/java/high/io.html#_12-3-应用" class="sidebar-link">12.3 应用</a></li></ul></li></ul></li><li><a href="/noteSite/backend/java/high/net-io.html" class="sidebar-link">JavaSE —— BIO/NIO/AIO</a></li><li><a href="/noteSite/backend/java/high/enum.html" class="sidebar-link">JavaSE —— 枚举类</a></li><li><a href="/noteSite/backend/java/high/reflect.html" class="sidebar-link">Java SE —— 反射</a></li><li><a href="/noteSite/backend/java/high/annotation.html" class="sidebar-link">Java SE —— 注解</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java 多线程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java 并发工具类</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java 虚拟机</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring 5</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringBoot 2.x</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringCloud Hoxton</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SpringCloud Alibaba</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MyBatis 3.4.5</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javase-io"><a href="#javase-io" class="header-anchor">#</a> JavaSE —— IO</h1> <h2 id="_1-原理"><a href="#_1-原理" class="header-anchor">#</a> 1. 原理</h2> <ul><li>I/O 是 Input/Output 的缩写， I/O 技术是非常实用的技术，用于处理设备之间的数据传输。如读/写文件，网络通讯等。</li> <li>Java 程序中，对于数据的输入/输出操作以“流(stream)” 的方式进行。</li> <li>java.io 包下提供了各种“流”类和接口，用以获取不同种类的数据，并通过标准的方法输入或输出数据。</li> <li>输入 input：读取外部数据（磁 盘、光盘等存储设备的数据）到程序（内存）中。</li> <li>输出 output：将程序（内存）数据输出到磁盘、光盘等存储设备中。</li></ul> <h2 id="_2-分类"><a href="#_2-分类" class="header-anchor">#</a> 2. 分类</h2> <img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gn6vkm6752j313k09276f.jpg" alt="image-20210131144600778" style="zoom:33%;"> <p>按操作数据单位不同分为</p> <ul><li>字节流(8 bit)</li> <li>字符流(16 bit)</li></ul> <p>按数据流的流向不同分为：</p> <ul><li>输入流</li> <li>输出流</li></ul> <p>按流的角色的不同分为：</p> <ul><li><p>节点流：直接从数据源或目的地读写数据。</p> <img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gn6vlwkro4j30ra05m406.jpg" alt="image-20210131144716343" style="zoom:33%;"></li> <li><p>处理流：不直接连接到数据源或目的地，而是“连接”在已存在的流(节点流或处理流)之上，通过对数据的处理为程序提供更为强大的读写功能。</p> <img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gn6vmh0gtwj30vm07gn17.jpg" alt="image-20210131144750050" style="zoom:33%;"></li></ul> <h2 id="_3-流体系"><a href="#_3-流体系" class="header-anchor">#</a> 3. 流体系</h2> <img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gn6vu1l161j31bi0te1ij.jpg" alt="image-20210131145505285" style="zoom:50%;"> <div class="custom-block tip"><p class="custom-block-title">装饰器模式</p> <p>动态地给一个对象添加一些额外的职责。就增加功能来说，装饰模式想必生成子类更为灵活。</p> <p>装饰模式又名包装（Wrapper）模式。装饰模式以对客户端透明的方式扩展对象的功能，<strong>是继承关系的一个替代方案</strong>。</p> <p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gujh3gelpyj60fd06saad02.jpg" alt="img"></p> <p><strong>装饰模式中的角色</strong></p> <ol><li><strong>抽象构件角色（Component）</strong>：给出一个抽象接口，以规范准备接受附加责任的对象。</li> <li><strong>具体构件角色（ConcreteComponent）</strong>：定义一个将要接收附加责任的类。</li> <li><strong>装饰角色（Decorator）</strong>：持有一个构件（Component）对象的实例，并定义一个与抽象构件接口一致的接口。</li> <li><strong>具体装饰角色（ConcreteDecorator）</strong>：负责给构件对象“贴上”附加的责任。</li></ol> <p><strong>适用场景</strong></p> <ol><li>想透明并且动态地给对象增加新的职责的时候</li> <li>给对象增加的职责，在未来存在增加或减少功能</li> <li>用继承扩展功能不太现实的情况下，应该考虑用组合的方式</li> <li>装饰模式与继承关系的目的都是要扩展对象的功能，但是装饰模式可以提供比继承更多的灵活性。装饰模式允许系统动态决定“贴上”一个需要的“装饰”，或者除掉一个不需要的“装饰”。继承关系则不同，继承关系是静态的，它在系统运行前就决定了。</li> <li>通过使用不同的具体装饰类以及这些装饰类的排列组合，设计师可以创造出很多不同行为的组合。</li></ol> <p><strong>优点</strong></p> <ol><li>通过组合而非继承的方式，实现了动态扩展对象的功能的能力。</li> <li>有效避免了使用继承的方式扩展对象功能而带来的灵活性差，子类无限制扩张的问题。</li> <li>充分利用了继承和组合的长处和短处，在灵活性和扩展性之间找到完美的平衡点。</li> <li>装饰者和被装饰者之间虽然都是同一类型，但是它们彼此是完全独立并可以各自独立任意改变的。</li> <li>遵守大部分 GRAP 原则和常用设计原则，高内聚、低偶合。</li></ol> <p><strong>缺点</strong></p> <ol><li>装饰链不能过长，否则会影响效率。</li> <li>因为所有对象都是继承于 Component，所以如果 Component 内部结构发生改变，则不可避免地影响所有子类（装饰者和被装饰者），也就是说，通过继承建立的关系总是脆弱地，如果基类改变，势必影响对象的内部，而通过组合建立的关系只会影响被装饰对象的外部特征。</li> <li>只在必要的时候使用装饰者模式，否则会提高程序的复杂性，增加系统维护难度。</li></ol> <p><strong>JDK中的装饰模式</strong></p> <p>由于 Java I/O 库需要很多性能的各种组合，如果这些性能都是用继承的方法实现的，那么每一种组合都需要一个类，这样就会造成大量性能重复的类出现。而如果采用装饰模式，那么类的数目就会大大减少，性能的重复也可以减至最少。因此装饰模式是 Java I/O 库的基本模式。</p> <p><img src="https://tva1.sinaimg.cn/large/008i3skNgy1gujh4gvr0cj60to06x0tk02.jpg" alt="img"></p> <p>根据上图可以看出：</p> <ul><li>抽象构件（Component）角色：由 InputStream 扮演。这是一个抽象类，为各种子类型提供统一的接口。</li> <li>具体构件（ConcreteComponent）角色：由 ByteArrayInputStream、FileInputStream、PipedInputStream、StringBufferInputStream 等类扮演。它们实现了抽象构件角色所规定的接口。</li> <li>抽象装饰（Decorator）角色：由 FilterInputStream 扮演。它实现了 InputStream 所规定的接口。</li> <li>具体装饰（ConcreteDecorator）角色：由几个类扮演，分别是 BufferedInputStream、DataInputStream 以及两个不常用到的类LineNumberInputStream、PushbackInputStream。</li></ul></div> <h2 id="_4-四个抽象基类"><a href="#_4-四个抽象基类" class="header-anchor">#</a> 4. 四个抽象基类</h2> <h3 id="inputstream"><a href="#inputstream" class="header-anchor">#</a> InputStream</h3> <ul><li><p>int read()</p> <blockquote><p>从输入流中读取数据的下一个字节。返回 0 到 255 范围内的 int 字节值。如果因为已经到达流末尾而没有可用的字节，则返回值 -1。</p></blockquote></li> <li><p>int read(byte[] b)</p> <blockquote><p>从此输入流中将最多 b.length 个字节的数据读入一个 byte 数组中。如果因为已经到达流末尾而没有可用的字节，则返回值 -1。否则以整数形式返回实际读取 的字节数。</p></blockquote></li> <li><p>int read(byte[] b, int off,int len)</p> <blockquote><p>将输入流中最多 len 个数据字节读入 byte 数组。尝试读取 len 个字节，但读取的字节也可能小于该值。以整数形式返回实际读取的字节数。如果因为流位于文件末尾而没有可用的字节，则返回值 -1。</p></blockquote></li> <li><p>public void close() throws IOException</p> <blockquote><p>关闭此输入流并释放与该流关联的所有系统资源。</p></blockquote></li></ul> <h3 id="reader"><a href="#reader" class="header-anchor">#</a> Reader</h3> <ul><li><p>int read()</p> <blockquote><p>读取单个字符。作为整数读取的字符，范围在 0 到 65535 之间 (0x00-0xffff)(2个字节的Unicode码)，如果已到达流的末尾，则返回 -1。</p></blockquote></li> <li><p>int read(char[] cbuf)</p> <blockquote><p>将字符读入数组。如果已到达流的末尾，则返回 -1。否则返回本次读取的字符数。</p></blockquote></li> <li><p>int read(char[] cbuf,int off,int len)</p> <blockquote><p>将字符读入数组的某一部分。存到数组 cbuf 中，从 off 处开始存储，最多读 len 个字符。如果已到达流的末尾，则返回 -1。否则返回本次读取的字符数。</p></blockquote></li> <li><p>public void close() throws IOException</p> <blockquote><p>关闭此输入流并释放与该流关联的所有系统资源。</p></blockquote></li></ul> <h3 id="outputstream"><a href="#outputstream" class="header-anchor">#</a> OutputStream</h3> <ul><li><p>void write(int b)</p> <blockquote><p>将指定的字节写入此输出流。write 的常规协定是：向输出流写入一个字节。要写入的字节是参数 b 的八个低位。b 的 24 个高位将被忽略。 即写入0~255范围的。</p></blockquote></li> <li><p>void write(byte[] b)</p> <blockquote><p>将 b.length 个字节从指定的 byte 数组写入此输出流。write (b) 的常规协定是：应该与调用 write(b, 0, b.length) 的效果完全相同。</p></blockquote></li> <li><p>void write(byte[] b,int off,int len)</p> <blockquote><p>将指定 byte 数组中从偏移量 off 开始的 len 个字节写入此输出流。</p></blockquote></li> <li><p>public void flush()throws IOException</p> <blockquote><p>刷新此输出流并强制写出所有缓冲的输出字节，调用此方法指示应将这些字节立即写入它们预期的目标。</p></blockquote></li> <li><p>public void close() throws IOException</p> <p>关闭此输出流并释放与该流关联的所有系统资源。</p></li></ul> <h3 id="writer"><a href="#writer" class="header-anchor">#</a> Writer</h3> <ul><li><p>void write(int c)</p> <blockquote><p>写入单个字符。要写入的字符包含在给定整数值的 16 个低位中，16 高位被忽略。 即 写入0 到 65535 之间的Unicode码。</p></blockquote></li> <li><p>void write(char[] cbuf)</p> <blockquote><p>写入字符数组。</p></blockquote></li> <li><p>void write(char[] cbuf,int off,int len)</p> <blockquote><p>写入字符数组的某一部分。从 off 开始，写入 len 个字符。</p></blockquote></li> <li><p>void write(String str)</p> <blockquote><p>写入字符串。</p></blockquote></li> <li><p>void write(String str,int off,int len)</p> <blockquote><p>写入字符串的某一部分。</p></blockquote></li> <li><p>void flush()</p> <blockquote><p>刷新该流的缓冲，则立即将它们写入预期目标。</p></blockquote></li> <li><p>public void close() throws IOException</p> <blockquote><p>关闭此输出流并释放与该流关联的所有系统资源。</p></blockquote></li></ul> <h2 id="_5-节点流-文件流"><a href="#_5-节点流-文件流" class="header-anchor">#</a> 5. 节点流（文件流）</h2> <h5 id="读取文件"><a href="#读取文件" class="header-anchor">#</a> 读取文件</h5> <blockquote><p>FileInputStream 从文件系统中的某个文件中获得输入字节。</p> <p>FileInputStream 用于读取非文本数据之类的原始字节流。</p> <p>要读取字符流，需要使用 FileReader。</p></blockquote> <p>四部曲：</p> <img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gn6wcphr14j31jm0maafg.jpg" alt="image-20210131151302026" style="zoom:33%;"> <p>示例：</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

     	  <span class="token comment">//1. 创建一个流对象，将已经存在的文件加载入流</span>
        <span class="token class-name">FileReader</span> fr <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token comment">//IDEA 中相对路径：相对于当前 Module（main方法里面的是相对于当前Project）</span>
            fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">&quot;src/com/hedon/iotest/Test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//2. 创建一个临时存放数据的数组</span>
            <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> len<span class="token punctuation">;</span>
            <span class="token comment">//3. 调用流对象的读取方法将流中数据读到数组中</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>len<span class="token operator">=</span>fr<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;read-Exception:&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span><span class="token punctuation">{</span>
                <span class="token comment">//4. 关系资源</span>
                fr<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;close-Exception :&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h5 id="写入文件"><a href="#写入文件" class="header-anchor">#</a> 写入文件</h5> <blockquote><p>FileOutputStream 从文件系统中的某个文件中获得输出字节。</p> <p>FileOutputStream 用于写出非文本数据之类的原始字节流。</p> <p>要写出字符流，需要使用 FileWriter。</p></blockquote> <p>三部曲：</p> <img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gn6wd83xjaj31go0g20xa.jpg" alt="image-20210131151332093" style="zoom:33%;"> <p>示例：</p> <div class="language-java extra-class"><pre class="language-java"><code>	  <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFileWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token class-name">FileWriter</span> fw <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token comment">//1. 创建一个流对象，将已经存在的文件加载入流</span>
            fw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;src/com/hedon/iotest/Test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//2. 写入数据</span>
            fw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;新的数据写进来啦~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;write-exception: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>fw <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">//3. 关闭</span>
                    fw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    fw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;close-exception: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre></div><h5 id="注意点"><a href="#注意点" class="header-anchor">#</a> 注意点：</h5> <ul><li>在写入一个文件时，如果使用构造器 <code>FileOutputStream(file)</code>，则目录下有同名文件将被覆盖。</li> <li>如果使用构造器 <code>FileOutputStream(file,true)</code>，则目录下的同名文件不会被覆盖， 在文件内容末尾追加内容。</li> <li>在读取文件时，必须保证该文件已存在，否则报异常。</li> <li>字节流操作字节，比如：.mp3，.avi，.rmvb，mp4，.jpg，.doc，.ppt</li> <li>字符流操作字符，只能操作普通文本文件。最常见的文本文件：.txt，.java，.c，.cpp 等语言的源代码。尤其注意 .doc, excel, ppt 这些不是文本文件。</li></ul> <h2 id="_6-缓冲流"><a href="#_6-缓冲流" class="header-anchor">#</a> 6. 缓冲流</h2> <h3 id="_6-1-作用"><a href="#_6-1-作用" class="header-anchor">#</a> 6.1 作用</h3> <ul><li><p><strong>为了提高数据读写的速度</strong>，Java API 提供了带缓冲功能的流类，在使用这些流类时，会创建一个内部缓冲区数组，缺省使用 8192 个字节（8Kb）的缓冲区。</p> <img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gn83fnyqwgj30x805s0te.jpg" alt="image-20210201160336704" style="zoom:50%;"></li></ul> <h3 id="_6-2-分类"><a href="#_6-2-分类" class="header-anchor">#</a> 6.2 分类</h3> <p>缓冲流要“套接”在相应的节点流（文件流）之上，根据数据操作单位可以把缓冲流分为:</p> <ul><li>BufferedInputStream、BufferedOutputStream</li> <li>BufferedReader、BufferedWriter</li></ul> <h3 id="_6-3-原理"><a href="#_6-3-原理" class="header-anchor">#</a> 6.3 原理</h3> <h4 id="读"><a href="#读" class="header-anchor">#</a> 读</h4> <p>当读取数据时，数据按块读入缓冲区，其后的读操作则直接访问缓冲区。</p> <p>当使用 BufferedInputStream 读取字节文件时，BufferedInputStream 会一次性从文件中读取 8192 个（8Kb）字节，存在缓冲区中，直到缓冲区装满了，才重新从文件中读取下一个 8192 个字节数组。</p> <h4 id="写"><a href="#写" class="header-anchor">#</a> 写</h4> <p>向流中写入字节时，不会直接写到文件，先写到缓冲区中直到缓冲区写满， BufferedOutputStream 才会把缓冲区中的数据一次性写到文件里。</p> <p>使用方法 flush() 可以强制将缓冲区的内容全部写入输出流。</p> <h4 id="关"><a href="#关" class="header-anchor">#</a> 关</h4> <p>关闭流的顺序和打开流的顺序<strong>相反</strong>。只要关闭最外层流即可，关闭最外层流也会相应关闭内层节点流。</p> <p>如果是带缓冲区的流对象的 close() 方法，不但会关闭流，还会在关闭流之前刷新缓冲区，关闭后不能再写出。</p> <h3 id="_6-4-示例"><a href="#_6-4-示例" class="header-anchor">#</a> 6.4 示例</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/**
 * 复制文件内容
 */</span>
<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">BufferedWriter</span> bw <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token comment">//源文件</span>
        br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;src/com/hedon/iotest/source.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//目标文件</span>
        bw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">&quot;src/com/hedon/iotest/dest.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> str<span class="token punctuation">;</span>
        <span class="token comment">//一次读取字符文本文件的一行字符</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>str <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//一次写入一行字符串</span>
            bw<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">//写入行分隔符</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//刷新缓冲区</span>
        bw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;read or write exception: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>bw <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">// 关闭过滤流时,会自动关闭它所包装的底层节点流</span>
                bw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;close bw exception: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>br <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;close br exception: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7-转换流"><a href="#_7-转换流" class="header-anchor">#</a> 7. 转换流</h2> <ul><li>转换流提供了在字节流和字符流之间的转换</li> <li>Java API 提供了两个转换流：
<ul><li>InputStreamReader：将 InputStream 转换为 Reader</li> <li>OutputStreamWriter：将 Writer 转换为 OutputStream</li></ul></li> <li>字节流中的数据都是字符时，转成字符流操作更高效。</li> <li>很多时候我们使用转换流来处理文件乱码问题，实现编码和解码的功能。</li></ul> <h3 id="inputstreamreader"><a href="#inputstreamreader" class="header-anchor">#</a> InputStreamReader</h3> <ul><li>实现将字节的输入流按指定字符集转换为字符的输入流 -&gt; 将 InputStream 转换为 Reader</li> <li>需要和 InputStream “套接”。</li></ul> <p>构造器：</p> <ul><li>public InputStreamReader(InputStream in)</li> <li>public InputSreamReader(InputStream in,String charsetName)
<ul><li>如: Reader isr = new InputStreamReader(System.in,“gbk”);</li></ul></li></ul> <h3 id="outputstreamwriter"><a href="#outputstreamwriter" class="header-anchor">#</a> OutputStreamWriter</h3> <ul><li>实现将字符的输出流按指定字符集转换为字节的输出流 -&gt; 将 Writer 转换为 OutputStream</li> <li>需要和 OutputStream “套接”。</li></ul> <p>构造器：</p> <ul><li>public OutputStreamWriter(OutputStream out)</li> <li>public OutputSreamWriter(OutputStream out,String charsetName)</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transferTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">{</span>

        <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src/com/hedon/iotest/Test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src/com/hedon/iotest/Test1.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">InputStreamReader</span> isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>fis<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">OutputStreamWriter</span> osw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span>fos<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>isr<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BufferedWriter</span> bw <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span>osw<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>str <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            bw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
            bw<span class="token punctuation">.</span><span class="token function">newLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            bw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        bw<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="_8-标准流"><a href="#_8-标准流" class="header-anchor">#</a> 8. 标准流</h2> <ul><li><p><code>System.in</code> 和 <code>System.out</code> 分别代表了系统标准的输入和输出设备</p></li> <li><p>默认输入设备是：键盘，输出设备是：显示器</p></li> <li><p>System.in 的类型是 <code>InputStream</code></p></li> <li><p>System.out 的类型是 <code>PrintStream</code>，其是 <code>OutputStream</code>、<code>FilterOutputStream</code> 的子类</p></li> <li><p>重定向：通过 System 类的 <code>setIn</code>，<code>setOut</code> 方法对默认设备进行改变。</p> <p>public static void setIn(InputStream in)
public static void setOut(PrintStream out)</p></li></ul> <blockquote><p>例题：从键盘输入字符串，要求将读取到的整行字符串转成大写输出。然后继续进行输入操作，直至当输入“e”或者“exit”时，退出程序。</p></blockquote> <div class="language-java extra-class"><pre class="language-java"><code>		<span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">standardStreamTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token comment">// 把&quot;标准&quot;输入流(键盘输入)这个字节流包装成字符流,再包装成缓冲流</span>
            <span class="token class-name">InputStream</span> in <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">;</span>
            <span class="token class-name">InputStreamReader</span> isr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
            br <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>isr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//阻塞等待</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>s <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;e&quot;</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;exit&quot;</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;安全退出！！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment">//将读取到的整行字符串大写</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-&gt;: &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;继续输入信息&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>br <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// 关闭过滤流时,会自动关闭它包装的底层节点流</span>
                    br<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre></div><h2 id="_9-打印流"><a href="#_9-打印流" class="header-anchor">#</a> 9. 打印流</h2> <ul><li>实现将基本数据类型的数据格式转化为字符串输出。</li> <li>打印流：PrintStream 和 PrintWriter
<ul><li>提供了一系列重载的 print() 和 println() 方法，用于多种数据类型的输出</li> <li>PrintStream 和 PrintWriter 的输出不会抛出 IOException 异常</li> <li>PrintStream 和 PrintWriter 有自动 flush 功能</li> <li>PrintStream 打印的所有字符都使用平台的默认字符编码转换为字节。在需要写入字符而不是写入字节的情况下，应该使用 PrintWriter 类。</li> <li>System.out 返回的是 PrintStream 的实例</li></ul></li></ul> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">printStreamTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">PrintStream</span> ps <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;src/com/hedon/iotest/Test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 创建打印输出流，设置为自动刷新模式(写入换行符或字节 '\n' 时都会刷新输出缓冲区)</span>
            ps <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span>fos<span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 把标准输出流(控制台输出)改成文件</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ps <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setOut</span><span class="token punctuation">(</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">256</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 输出ASCII字符</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// 每50个数据一行</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span> i <span class="token operator">%</span> <span class="token number">50</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ps <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                ps<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="_10-数据流"><a href="#_10-数据流" class="header-anchor">#</a> 10. 数据流</h2> <ul><li>为了方便地操作 Java 语言的基本数据类型和 String 的数据，可以使用数据流。</li> <li>数据流有两个类：(用于读取和写出基本数据类型、String类的数据)
<ul><li>DataInputStream</li> <li>DataOutputStream</li> <li>分别“套接”在 InputStream 和 OutputStream 子类的流上</li></ul></li></ul> <h3 id="datainputstream"><a href="#datainputstream" class="header-anchor">#</a> DataInputStream</h3> <ul><li>boolean readBoolean()</li> <li>char readChar()</li> <li>double readDouble()</li> <li>long readLong()</li> <li>String readUTF()</li> <li>byte readByte()</li> <li>float readFloat()</li> <li>short readShort()</li> <li>int readInt()</li> <li>void readFully(byte[] b)</li></ul> <h3 id="dataoutputstream"><a href="#dataoutputstream" class="header-anchor">#</a> DataOutputStream</h3> <ul><li>将上述的方法的 read 改为相应的 write 即可。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code>		<span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dataStreamTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">DataOutputStream</span> dos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            dos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src/com/hedon/iotest/Test.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dos<span class="token punctuation">.</span><span class="token function">writeUTF</span><span class="token punctuation">(</span><span class="token string">&quot;Java 天下第一&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dos<span class="token punctuation">.</span><span class="token function">writeBoolean</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            dos<span class="token punctuation">.</span><span class="token function">writeLong</span><span class="token punctuation">(</span><span class="token number">1234567890L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;写文件成功!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>dos <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment">// 关闭过滤流时,会自动关闭它包装的底层节点流</span>
                    dos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre></div><h2 id="_11-对象流"><a href="#_11-对象流" class="header-anchor">#</a> 11. 对象流</h2> <ul><li>ObjectInputStream</li> <li>OjbectOutputSteam</li></ul> <h3 id="_11-1-作用"><a href="#_11-1-作用" class="header-anchor">#</a> 11.1 作用</h3> <ul><li>用于存储和读取基本数据类型数据或对象的处理流。</li> <li>它的强大之处就是可以把 Java 中的对象写入到数据源中，也能把对象从数据源中还原回来。</li></ul> <h3 id="_11-2-序列化-反序列化"><a href="#_11-2-序列化-反序列化" class="header-anchor">#</a> 11.2 序列化/反序列化</h3> <p>序列化：用 ObjectOutputStream 类 <strong>保存</strong> 基本类型数据或对象的机制。</p> <p>反序列化：用 ObjectInputStream 类 <strong>读取</strong> 基本类型数据或对象的机制。</p> <p><font color="Red">注意：ObjectOutputStream 和 ObjectInputStream 不能序列化 static 和 transient 修饰的成员变量。</font></p> <h3 id="_11-3-对象的序列化"><a href="#_11-3-对象的序列化" class="header-anchor">#</a> 11.3 对象的序列化</h3> <p>对象序列化机制允许把内存中的 Java 对象转换成平台无关的二进制流，从而允许把这种二进制流持久地保存在磁盘上，或通过网络将这种二进制流传输到另一个网络节点。当其它程序获取了这种二进制流，就可以恢复成原来的 Java 对象</p> <p>序列化的好处在于可将任何实现了 Serializable 接口的对象转化为字节数据， 使其在保存和传输时可被还原。</p> <p>序列化是 <code>RMI（Remote Method Invoke – 远程方法调用）</code> 过程的参数和返回值都必须实现的机制，而 RMI 是 JavaEE 的基础。因此序列化机制是 JavaEE 平台的基础。</p> <p>如果需要让某个对象支持序列化机制，则必须让对象所属的类及其属性是可序列化的，为了让某个类是可序列化的，该类必须实现如下两个接口之一。 否则，会抛出 NotSerializableException 异常</p> <ul><li><strong>Serializable</strong></li> <li>Externalizable</li></ul> <p>凡是实现 Serializable 接口的类都有一个表示序列化版本标识符的静态变量：<code>private static final long serialVersionUID</code></p> <ul><li>serialVersionUID 用来表明类的不同版本间的兼容性。简言之，其目的是以序列化对象进行<strong>版本控制</strong>，有关各版本反序列化时是否兼容。</li> <li>如果类没有显示定义这个静态常量，它的值是 Java 运行时环境根据类的内部细节自动生成的。若类的实例变量做了修改，serialVersionUID 可能发生变化。故建议，显式声明。</li> <li>简单来说，Java 的序列化机制是通过在运行时判断类的 serialVersionUID 来验证版本一致性的。在进行反序列化时，JVM 会把传来的字节流中的 serialVersionUID 与本地相应实体类的 serialVersionUID 进行比较，如果相同就认为是一致的，可以进行反序列化，否则就会出现序列化版本不一致的异常——InvalidCastException。</li></ul> <h3 id="_11-4-使用"><a href="#_11-4-使用" class="header-anchor">#</a> 11.4 使用</h3> <p>若某个类实现了 Serializable 接口，该类的对象就是可序列化的：</p> <ul><li>创建一个 ObjectOutputStream</li> <li>调用 ObjectOutputStream 对象的 writeObject(对象) 方法输出可序列化对象</li> <li><font color="pink">注意写出一次，操作 flush() 一次</font></li></ul> <p>反序列化：</p> <ul><li>创建一个 ObjectInputStream</li> <li>调用 readObject() 方法读取流中的对象</li></ul> <p><font color="Red">强调：如果某个类的属性不是基本数据类型或 String 类型，而是另一个引用类型。那么这个引用类型必须是可序列化的，否则拥有该类型的 Field 的类也不能序列化。</font></p> <div class="language-markdown extra-class"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 谈谈你对 java.io.Serializable 接口的理解，我们知道它用于序列化，是空方法接口，还有其它认识吗?</span>
<span class="token list punctuation">1.</span> 实现了 Serializable 接口的对象，可将它们转换成一系列字节，并可在以后完全恢复回原来的样子。这一过程亦可通过网络进行。这意味着序列化机制能自动补偿操作系统间的差异。
	 换句话说，可以先在 Windows 机器上创建一个对象，对其序列化，然后通过网络发给一台 Unix 机器，然后在那里准确无误地重新“装配”。不必关心数据在不同机器上如何表示，也不必关心字节的顺序或者其他任何细节。
<span class="token list punctuation">2.</span> 由于大部分作为参数的类如 String、Integer 等都实现了 java.io.Serializable 的接口，也可以利用多态的性质，作为参数使接口更灵活。
</code></pre></div><h2 id="_12-随机存取文件流"><a href="#_12-随机存取文件流" class="header-anchor">#</a> 12. 随机存取文件流</h2> <ul><li>RandomAccessFile</li></ul> <h3 id="_12-1-作用"><a href="#_12-1-作用" class="header-anchor">#</a> 12.1 作用</h3> <p>RandomAccessFile 声明在 java.io 包下，但直接继承于 java.lang.Object 类。并且它实现了 <code>DataInput</code>、<code>DataOutput</code> 这两个接口，也就意味着这个类既可以读也可以写。</p> <p>RandomAccessFile 类支持 “随机访问” 的方式，程序可以直接跳到文件的任意地方来读、写文件</p> <ul><li>支持只访问文件的部分内容</li> <li>可以向已存在的文件后追加内容</li></ul> <p>RandomAccessFile 对象包含一个记录指针，用以标示当前读写处的位置。</p> <p>RandomAccessFile 类对象可以自由移动记录指针:</p> <ul><li>long getFilePointer()：获取文件记录指针的当前位置</li> <li>void seek(long pos)：将文件记录指针定位到 pos 位置</li></ul> <h3 id="_12-2-构造器"><a href="#_12-2-构造器" class="header-anchor">#</a> 12.2 构造器</h3> <ul><li>public RandomAccessFile(File file, String mode)</li> <li>public RandomAccessFile(String name, String mode)</li></ul> <p>创建 RandomAccessFile 类实例需要指定一个 <code>mode</code> 参数，该参数指定 RandomAccessFile 的访问模式：</p> <ul><li>r：以只读方式打开</li> <li>rw：打开以便读取和写入</li> <li>rwd：打开以便读取和写入，同步文件内容的更新</li> <li>rws：打开以便读取和写入，同步文件内容和元数据的更新</li></ul> <p>如果模式为只读 r，则不会创建文件，而是会去读取一个已经存在的文件，。如果读取的文件不存在则会出现异常。</p> <p>如果模式为 rw 读写。如果文件不存在则会去创建文件，如果存在则不会创建。</p> <h3 id="_12-3-应用"><a href="#_12-3-应用" class="header-anchor">#</a> 12.3 应用</h3> <p>我们可以用 RandomAccessFile 这个类，来实现一个多线程断点下载的功能， 用过下载工具的朋友们都知道，下载前都会建立两个临时文件，一个是与被下载文件大小相同的空文件，另一个是记录文件指针的位置文件，每次暂停的时候，都会保存上一次的指针，然后断点下载的时候，会继续从上 一次的地方下载，从而实现断点下载或上传的功能。</p> <!----></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">9/17/2021, 11:47:26 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/noteSite/backend/java/high/file.html" class="prev">
        JavaSE —— File 类
      </a></span> <span class="next"><a href="/noteSite/backend/java/high/net-io.html">
        JavaSE —— BIO/NIO/AIO
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/noteSite/assets/js/app.5a5619ad.js" defer></script><script src="/noteSite/assets/js/2.691adf44.js" defer></script><script src="/noteSite/assets/js/42.b2e49d19.js" defer></script>
  </body>
</html>
